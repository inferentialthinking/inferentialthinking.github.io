{"version":2,"kind":"Notebook","sha256":"76540fd1a4c330223cb32aa02bfdd8e652fa861c904db05d295eb620071feb84","slug":"chapters.08.5.bike-sharing-in-the-bay-area","location":"/chapters/08/5/Bike_Sharing_in_the_Bay_Area.ipynb","dependencies":[],"frontmatter":{"title":"Bike Sharing in the Bay Area","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"license":{"content":{"id":"CC-BY-NC-ND-4.0","url":"https://creativecommons.org/licenses/by-nc-nd/4.0/","name":"Creative Commons Attribution Non Commercial No Derivatives 4.0 International","CC":true}},"github":"https://github.com/data-8/textbook","numbering":{"title":{"enabled":true,"offset":1}},"source_url":"https://github.com/data-8/textbook/blob/main/chapters/08/5/Bike_Sharing_in_the_Bay_Area.ipynb","edit_url":"https://github.com/data-8/textbook/edit/main/chapters/08/5/Bike_Sharing_in_the_Bay_Area.ipynb","enumerator":"8.5","exports":[{"format":"ipynb","filename":"Bike_Sharing_in_the_Bay_Area.ipynb","url":"/build/Bike_Sharing_in_the_-1e94b37324f722bea793cc19639b1ce2.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We end this chapter by using all the methods we have learned to examine a new and large dataset. We will also introduce ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MYdTVcnzfB"},{"type":"inlineCode","value":"map_table","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eMBUdq5eNI"},{"type":"text","value":", a powerful visualization tool.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZzXweVAPaZ"}],"key":"ZNyeYz5OiD"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"guZP9L861S"},{"type":"link","url":"http://www.bayareabikeshare.com/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Bay Area Bike Share","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Xq6AaljqQA"}],"urlSource":"http://www.bayareabikeshare.com/","key":"odiKLldofg"},{"type":"text","value":" service published a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DWuhxokHgd"},{"type":"link","url":"http://www.bayareabikeshare.com/open-data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"dataset","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"S8S9AWMnEe"}],"urlSource":"http://www.bayareabikeshare.com/open-data","key":"dtDBjc8evE"},{"type":"text","value":" describing every bicycle rental from September 2014 to August 2015 in their system. There were 354,152 rentals in all. The columns are:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e2w1yls6TR"}],"key":"r7yGEMQ2Qe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"An ID for the rental","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"w4QVjtOWyn"}],"key":"z7qRQv2EW2"}],"key":"GqkT2ImAML"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Duration of the rental, in seconds","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"dbJeFlHkog"}],"key":"Ljj5Dk6bIu"}],"key":"s2KbVWnKiA"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Start date","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"nVXiFLLNjD"}],"key":"CMOyEhCW4z"}],"key":"Q7ZOJALqmo"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Name of the Start Station and code for Start Terminal","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cI78bUmz6v"}],"key":"qJ24oolFd5"}],"key":"m9RkWEArFb"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Name of the End Station and code for End Terminal","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ye24Woq3SZ"}],"key":"OPm9nIytZe"}],"key":"Ldil98kqK0"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A serial number for the bike","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"KDPg94HWDk"}],"key":"STTixHWblO"}],"key":"TCF25pJxc0"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Subscriber type and zip code","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"lmY3VLBfee"}],"key":"XHHdMkicWV"}],"key":"pcaeWCxEtF"}],"key":"TZ7ezL4Kfl"}],"key":"veEAMDbBlR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from datascience import *\n%matplotlib inline\npath_data = '../../../assets/data/'\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\nimport math\nfrom scipy import stats\nimport numpy as np\nimport warnings\nwarnings.simplefilter(action='ignore', category=np.VisibleDeprecationWarning)","visibility":"remove","key":"H1n6DDLCOx"},{"type":"output","id":"HIIYVSsrgVQCkkeVk61nP","data":[],"visibility":"show","key":"NLGcDKFwTE"}],"visibility":"show","key":"tEi2hvSlN1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"trips = Table.read_table(path_data + 'trip.csv')\ntrips","key":"FcV3i8xsFy"},{"type":"output","id":"3TDXIe5XIcMhxO-9spDEt","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Trip ID</th> <th>Duration</th> <th>Start Date</th> <th>Start Station</th> <th>Start Terminal</th> <th>End Date</th> <th>End Station</th> <th>End Terminal</th> <th>Bike #</th> <th>Subscriber Type</th> <th>Zip Code</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>913460 </td> <td>765     </td> <td>8/31/2015 23:26</td> <td>Harry Bridges Plaza (Ferry Building)         </td> <td>50            </td> <td>8/31/2015 23:39</td> <td>San Francisco Caltrain (Townsend at 4th)     </td> <td>70          </td> <td>288   </td> <td>Subscriber     </td> <td>2139    </td>\n        </tr>\n        <tr>\n            <td>913459 </td> <td>1036    </td> <td>8/31/2015 23:11</td> <td>San Antonio Shopping Center                  </td> <td>31            </td> <td>8/31/2015 23:28</td> <td>Mountain View City Hall                      </td> <td>27          </td> <td>35    </td> <td>Subscriber     </td> <td>95032   </td>\n        </tr>\n        <tr>\n            <td>913455 </td> <td>307     </td> <td>8/31/2015 23:13</td> <td>Post at Kearny                               </td> <td>47            </td> <td>8/31/2015 23:18</td> <td>2nd at South Park                            </td> <td>64          </td> <td>468   </td> <td>Subscriber     </td> <td>94107   </td>\n        </tr>\n        <tr>\n            <td>913454 </td> <td>409     </td> <td>8/31/2015 23:10</td> <td>San Jose City Hall                           </td> <td>10            </td> <td>8/31/2015 23:17</td> <td>San Salvador at 1st                          </td> <td>8           </td> <td>68    </td> <td>Subscriber     </td> <td>95113   </td>\n        </tr>\n        <tr>\n            <td>913453 </td> <td>789     </td> <td>8/31/2015 23:09</td> <td>Embarcadero at Folsom                        </td> <td>51            </td> <td>8/31/2015 23:22</td> <td>Embarcadero at Sansome                       </td> <td>60          </td> <td>487   </td> <td>Customer       </td> <td>9069    </td>\n        </tr>\n        <tr>\n            <td>913452 </td> <td>293     </td> <td>8/31/2015 23:07</td> <td>Yerba Buena Center of the Arts (3rd @ Howard)</td> <td>68            </td> <td>8/31/2015 23:12</td> <td>San Francisco Caltrain (Townsend at 4th)     </td> <td>70          </td> <td>538   </td> <td>Subscriber     </td> <td>94118   </td>\n        </tr>\n        <tr>\n            <td>913451 </td> <td>896     </td> <td>8/31/2015 23:07</td> <td>Embarcadero at Folsom                        </td> <td>51            </td> <td>8/31/2015 23:22</td> <td>Embarcadero at Sansome                       </td> <td>60          </td> <td>363   </td> <td>Customer       </td> <td>92562   </td>\n        </tr>\n        <tr>\n            <td>913450 </td> <td>255     </td> <td>8/31/2015 22:16</td> <td>Embarcadero at Sansome                       </td> <td>60            </td> <td>8/31/2015 22:20</td> <td>Steuart at Market                            </td> <td>74          </td> <td>470   </td> <td>Subscriber     </td> <td>94111   </td>\n        </tr>\n        <tr>\n            <td>913449 </td> <td>126     </td> <td>8/31/2015 22:12</td> <td>Beale at Market                              </td> <td>56            </td> <td>8/31/2015 22:15</td> <td>Temporary Transbay Terminal (Howard at Beale)</td> <td>55          </td> <td>439   </td> <td>Subscriber     </td> <td>94130   </td>\n        </tr>\n        <tr>\n            <td>913448 </td> <td>932     </td> <td>8/31/2015 21:57</td> <td>Post at Kearny                               </td> <td>47            </td> <td>8/31/2015 22:12</td> <td>South Van Ness at Market                     </td> <td>66          </td> <td>472   </td> <td>Subscriber     </td> <td>94702   </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (354142 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"Trip ID | Duration | Start Date      | Start Station                                 | Start Terminal | End Date        | End Station                                   | End Terminal | Bike # | Subscriber Type | Zip Code\n913460  | 765      | 8/31/2015 23:26 | Harry Bridges Plaza (Ferry Building)          | 50             | 8/31/2015 23:39 | San Francisco Caltrain (Townsend at 4th)      | 70           | 288    | Subscriber      | 2139\n913459  | 1036     | 8/31/2015 23:11 | San Antonio Shopping Center                   | 31             | 8/31/2015 23:28 | Mountain View City Hall                       | 27           | 35     | Subscriber      | 95032\n913455  | 307      | 8/31/2015 23:13 | Post at Kearny                                | 47             | 8/31/2015 23:18 | 2nd at South Park                             | 64           | 468    | Subscriber      | 94107\n913454  | 409      | 8/31/2015 23:10 | San Jose City Hall                            | 10             | 8/31/2015 23:17 | San Salvador at 1st                           | 8            | 68     | Subscriber      | 95113\n913453  | 789      | 8/31/2015 23:09 | Embarcadero at Folsom                         | 51             | 8/31/2015 23:22 | Embarcadero at Sansome                        | 60           | 487    | Customer        | 9069\n913452  | 293      | 8/31/2015 23:07 | Yerba Buena Center of the Arts (3rd @ Howard) | 68             | 8/31/2015 23:12 | San Francisco Caltrain (Townsend at 4th)      | 70           | 538    | Subscriber      | 94118\n913451  | 896      | 8/31/2015 23:07 | Embarcadero at Folsom                         | 51             | 8/31/2015 23:22 | Embarcadero at Sansome                        | 60           | 363    | Customer        | 92562\n913450  | 255      | 8/31/2015 22:16 | Embarcadero at Sansome                        | 60             | 8/31/2015 22:20 | Steuart at Market                             | 74           | 470    | Subscriber      | 94111\n913449  | 126      | 8/31/2015 22:12 | Beale at Market                               | 56             | 8/31/2015 22:15 | Temporary Transbay Terminal (Howard at Beale) | 55           | 439    | Subscriber      | 94130\n913448  | 932      | 8/31/2015 21:57 | Post at Kearny                                | 47             | 8/31/2015 22:12 | South Van Ness at Market                      | 66           | 472    | Subscriber      | 94702\n... (354142 rows omitted)","content_type":"text/plain"}}}],"key":"ashdH9FLDL"}],"key":"X2dOrGKXmg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We’ll focus only on the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bUnLcNSgWf"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"free trips","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tN9mNLXGYG"}],"key":"rIVaWJd5fs"},{"type":"text","value":", which are trips that last less than 1800 seconds (half an hour). There is a charge for longer trips.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rOOTTwgT5J"}],"key":"popPucOrej"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The histogram below shows that most of the trips took around 10 minutes (600 seconds) or so. Very few took near 30 minutes (1800 seconds), possibly because people try to return the bikes before the cutoff time so as not to have to pay.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pfi7i9uwfw"}],"key":"ZuEazOyxlw"}],"key":"c8ondUkbbC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"commute = trips.where('Duration', are.below(1800))\ncommute.hist('Duration', unit='Second')","key":"UN0rrjhUvn"},{"type":"output","id":"UILRtVe1EO8vddR4qWOo_","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e3db121d904c39f23ce17b868a2f93a7","path":"/build/e3db121d904c39f23ce17b868a2f93a7.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"vF0vyqT8H6"}],"key":"fSB9FN9SOd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can get more detail by specifying a larger number of bins. But the overall shape doesn’t change much.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vf2MOKzapR"}],"key":"JOpBOaz06h"}],"key":"uRGBfbC3Hm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"commute.hist('Duration', bins=60, unit='Second')","key":"orIrcfsXDF"},{"type":"output","id":"K7ZL0FmImQbeEeQ3YdAm_","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"31648e17d0b629fd2d1f678191261c64","path":"/build/31648e17d0b629fd2d1f678191261c64.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"nnRxAkLFal"}],"key":"B0T5Ig8WLp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exploring the Data with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kU0rPFtmoq"},{"type":"inlineCode","value":"group","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iUrnXj1Rix"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MVEo5bwoKU"},{"type":"inlineCode","value":"pivot","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xrsI4nlwgm"}],"identifier":"exploring-the-data-with-group-and-pivot","label":"Exploring the Data with group and pivot","html_id":"exploring-the-data-with-group-and-pivot","implicit":true,"key":"mUD8SyYCWg"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can use ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HkzzcFuWPJ"},{"type":"inlineCode","value":"group","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UyhlcMsXjw"},{"type":"text","value":" to identify the most highly used Start Station:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FSOj8mI9wu"}],"key":"WclfolTUkN"}],"key":"hJTOYCJ07r"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"starts = commute.group('Start Station').sort('count', descending=True)\nstarts","key":"sEY5ZIwJ3S"},{"type":"output","id":"OYfNtpAl_jsYrYckEE0ZB","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Start Station</th> <th>count</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>San Francisco Caltrain (Townsend at 4th)     </td> <td>25858</td>\n        </tr>\n        <tr>\n            <td>San Francisco Caltrain 2 (330 Townsend)      </td> <td>21523</td>\n        </tr>\n        <tr>\n            <td>Harry Bridges Plaza (Ferry Building)         </td> <td>15543</td>\n        </tr>\n        <tr>\n            <td>Temporary Transbay Terminal (Howard at Beale)</td> <td>14298</td>\n        </tr>\n        <tr>\n            <td>2nd at Townsend                              </td> <td>13674</td>\n        </tr>\n        <tr>\n            <td>Townsend at 7th                              </td> <td>13579</td>\n        </tr>\n        <tr>\n            <td>Steuart at Market                            </td> <td>13215</td>\n        </tr>\n        <tr>\n            <td>Embarcadero at Sansome                       </td> <td>12842</td>\n        </tr>\n        <tr>\n            <td>Market at 10th                               </td> <td>11523</td>\n        </tr>\n        <tr>\n            <td>Market at Sansome                            </td> <td>11023</td>\n        </tr>\n    </tbody>\n</table>\n<p>... (60 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"Start Station                                 | count\nSan Francisco Caltrain (Townsend at 4th)      | 25858\nSan Francisco Caltrain 2 (330 Townsend)       | 21523\nHarry Bridges Plaza (Ferry Building)          | 15543\nTemporary Transbay Terminal (Howard at Beale) | 14298\n2nd at Townsend                               | 13674\nTownsend at 7th                               | 13579\nSteuart at Market                             | 13215\nEmbarcadero at Sansome                        | 12842\nMarket at 10th                                | 11523\nMarket at Sansome                             | 11023\n... (60 rows omitted)","content_type":"text/plain"}}}],"key":"NlF10LUAnv"}],"key":"uPjbXZY5bS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The largest number of trips started at the Caltrain Station on Townsend and 4th in San Francisco. People take the train into the city, and then use a shared bike to get to their next destination.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jIc3mYgtbZ"}],"key":"a2Jl6mdDXc"}],"key":"KSAaKAKHUn"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YtMFEW5WCp"},{"type":"inlineCode","value":"group","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nwHdSmdSIN"},{"type":"text","value":" method can also be used to classify the rentals by both Start Station and End Station.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AM1J6ofM3k"}],"key":"rBYMguwMiY"}],"key":"vIbFGjJMIu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"commute.group(['Start Station', 'End Station'])","key":"cWrTbd0tE5"},{"type":"output","id":"tBqF_-KpmcvPUnyYXkpqn","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Start Station</th> <th>End Station</th> <th>count</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>2nd at Folsom</td> <td>2nd at Folsom                    </td> <td>54   </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>2nd at South Park                </td> <td>295  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>2nd at Townsend                  </td> <td>437  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>5th at Howard                    </td> <td>113  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Beale at Market                  </td> <td>127  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Broadway St at Battery St        </td> <td>67   </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Civic Center BART (7th at Market)</td> <td>47   </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Clay at Battery                  </td> <td>240  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Commercial at Montgomery         </td> <td>128  </td>\n        </tr>\n        <tr>\n            <td>2nd at Folsom</td> <td>Davis at Jackson                 </td> <td>28   </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (1619 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"Start Station | End Station                       | count\n2nd at Folsom | 2nd at Folsom                     | 54\n2nd at Folsom | 2nd at South Park                 | 295\n2nd at Folsom | 2nd at Townsend                   | 437\n2nd at Folsom | 5th at Howard                     | 113\n2nd at Folsom | Beale at Market                   | 127\n2nd at Folsom | Broadway St at Battery St         | 67\n2nd at Folsom | Civic Center BART (7th at Market) | 47\n2nd at Folsom | Clay at Battery                   | 240\n2nd at Folsom | Commercial at Montgomery          | 128\n2nd at Folsom | Davis at Jackson                  | 28\n... (1619 rows omitted)","content_type":"text/plain"}}}],"key":"wx3Uk94Zdh"}],"key":"zlrmhwFnAl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fifty-four trips both started and ended at the station on 2nd at Folsom. A much large number (437) were between 2nd at Folsom and 2nd at Townsend.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"A8reTHI6Yi"}],"key":"dofRE31e3y"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bZMQCmT45R"},{"type":"inlineCode","value":"pivot","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SwRH0hVJkB"},{"type":"text","value":" method does the same classification but displays its results in a contingency table that shows all possible combinations of Start and End Stations, even though some of them didn’t correspond to any trips. Remember that the first argument of a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L7NYZgGo4k"},{"type":"inlineCode","value":"pivot","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l4q3X1JQ0I"},{"type":"text","value":" statement specifies the column labels of the pivot table; the second argument labels the rows.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XNNEhtCIzl"}],"key":"tNrJ6rpwbY"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"There is a train station as well as a Bay Area Rapid Transit (BART) station near Beale at Market, explaining the high number of trips that start and end there.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"nSG6JdSCo8"}],"key":"oxnrLcxSXY"}],"key":"D1uidQq8or"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"commute.pivot('Start Station', 'End Station')","key":"BKexribi99"},{"type":"output","id":"lJ4mTPH8Lns3BjyFw1QMb","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"62d75ad8cb6b635e58a8c5c56691c6c1","path":"/build/62d75ad8cb6b635e58a8c5c56691c6c1.html"},"text/plain":{"content":"End Station                      | 2nd at Folsom | 2nd at South Park | 2nd at Townsend | 5th at Howard | Adobe on Almaden | Arena Green / SAP Center | Beale at Market | Broadway St at Battery St | California Ave Caltrain Station | Castro Street and El Camino Real | Civic Center BART (7th at Market) | Clay at Battery | Commercial at Montgomery | Cowper at University | Davis at Jackson | Embarcadero at Bryant | Embarcadero at Folsom | Embarcadero at Sansome | Embarcadero at Vallejo | Evelyn Park and Ride | Franklin at Maple | Golden Gate at Polk | Grant Avenue at Columbus Avenue | Harry Bridges Plaza (Ferry Building) | Howard at 2nd | Japantown | MLK Library | Market at 10th | Market at 4th | Market at Sansome | Mechanics Plaza (Market at Battery) | Mezes Park | Mountain View Caltrain Station | Mountain View City Hall | Palo Alto Caltrain Station | Park at Olive | Paseo de San Antonio | Post at Kearny | Powell Street BART | Powell at Post (Union Square) | Redwood City Caltrain Station | Redwood City Medical Center | Redwood City Public Library | Rengstorff Avenue / California Street | Ryland Park | SJSU - San Salvador at 9th | SJSU 4th at San Carlos | San Antonio Caltrain Station | San Antonio Shopping Center | San Francisco Caltrain (Townsend at 4th) | San Francisco Caltrain 2 (330 Townsend) | San Francisco City Hall | San Jose City Hall | San Jose Civic Center | San Jose Diridon Caltrain Station | San Mateo County Center | San Pedro Square | San Salvador at 1st | Santa Clara County Civic Center | Santa Clara at Almaden | South Van Ness at Market | Spear at Folsom | St James Park | Stanford in Redwood City | Steuart at Market | Temporary Transbay Terminal (Howard at Beale) | Townsend at 7th | University and Emerson | Washington at Kearny | Yerba Buena Center of the Arts (3rd @ Howard)\n2nd at Folsom                    | 54            | 190               | 554             | 107           | 0                | 0                        | 40              | 21                        | 0                               | 0                                | 44                                | 78              | 54                       | 0                    | 9                | 77                    | 32                    | 41                     | 14                     | 0                    | 0                 | 11                  | 30                              | 416                                  | 53            | 0         | 0           | 169            | 114           | 302               | 33                                  | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 60             | 121                | 88                            | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 694                                      | 445                                     | 21                      | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 38                       | 57              | 0             | 0                        | 39                | 237                                           | 342             | 0                      | 17                   | 31\n2nd at South Park                | 295           | 164               | 71              | 180           | 0                | 0                        | 208             | 85                        | 0                               | 0                                | 112                               | 87              | 160                      | 0                    | 37               | 56                    | 178                   | 83                     | 116                    | 0                    | 0                 | 57                  | 73                              | 574                                  | 500           | 0         | 0           | 139            | 199           | 1633              | 119                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 299            | 84                 | 113                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 559                                      | 480                                     | 48                      | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 66                       | 152             | 0             | 0                        | 374               | 429                                           | 143             | 0                      | 63                   | 209\n2nd at Townsend                  | 437           | 151               | 185             | 92            | 0                | 0                        | 608             | 350                       | 0                               | 0                                | 80                                | 329             | 168                      | 0                    | 386              | 361                   | 658                   | 506                    | 254                    | 0                    | 0                 | 27                  | 315                             | 2607                                 | 295           | 0         | 0           | 110            | 225           | 845               | 177                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 120            | 100                | 141                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 905                                      | 299                                     | 14                      | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 72                       | 508             | 0             | 0                        | 2349              | 784                                           | 417             | 0                      | 57                   | 166\n5th at Howard                    | 113           | 177               | 148             | 83            | 0                | 0                        | 59              | 130                       | 0                               | 0                                | 203                               | 76              | 129                      | 0                    | 30               | 57                    | 49                    | 166                    | 54                     | 0                    | 0                 | 85                  | 78                              | 371                                  | 478           | 0         | 0           | 303            | 158           | 168               | 90                                  | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 93             | 183                | 169                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 690                                      | 1859                                    | 48                      | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 116                      | 102             | 0             | 0                        | 182               | 750                                           | 200             | 0                      | 43                   | 267\nAdobe on Almaden                 | 0             | 0                 | 0               | 0             | 11               | 4                        | 0               | 0                         | 0                               | 0                                | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 17        | 7           | 0              | 0             | 0                 | 0                                   | 0          | 0                              | 0                       | 0                          | 0             | 25                   | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 0                                     | 7           | 7                          | 16                     | 0                            | 0                           | 0                                        | 0                                       | 0                       | 19                 | 23                    | 265                               | 0                       | 20               | 4                   | 5                               | 10                     | 0                        | 0               | 14            | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\nArena Green / SAP Center         | 0             | 0                 | 0               | 0             | 7                | 64                       | 0               | 0                         | 0                               | 0                                | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 16        | 5           | 0              | 0             | 0                 | 0                                   | 0          | 0                              | 0                       | 0                          | 0             | 21                   | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 0                                     | 24          | 3                          | 7                      | 0                            | 0                           | 0                                        | 0                                       | 0                       | 6                  | 20                    | 7                                 | 0                       | 56               | 12                  | 38                              | 259                    | 0                        | 0               | 13            | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\nBeale at Market                  | 127           | 79                | 183             | 59            | 0                | 0                        | 59              | 661                       | 0                               | 0                                | 201                               | 75              | 101                      | 0                    | 247              | 178                   | 38                    | 590                    | 165                    | 0                    | 0                 | 54                  | 435                             | 57                                   | 72            | 0         | 0           | 286            | 236           | 163               | 26                                  | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 49             | 227                | 179                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 640                                      | 269                                     | 25                      | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 243                      | 128             | 0             | 0                        | 16                | 167                                           | 35              | 0                      | 64                   | 45\nBroadway St at Battery St        | 67            | 89                | 279             | 119           | 0                | 0                        | 1022            | 110                       | 0                               | 0                                | 62                                | 283             | 226                      | 0                    | 191              | 198                   | 79                    | 231                    | 35                     | 0                    | 0                 | 5                   | 70                              | 168                                  | 49            | 0         | 0           | 32             | 97            | 341               | 214                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 169            | 71                 | 218                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 685                                      | 438                                     | 7                       | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 18                       | 106             | 0             | 0                        | 344               | 748                                           | 50              | 0                      | 79                   | 47\nCalifornia Ave Caltrain Station  | 0             | 0                 | 0               | 0             | 0                | 0                        | 0               | 0                         | 38                              | 1                                | 0                                 | 0               | 0                        | 29                   | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 0         | 0           | 0              | 0             | 0                 | 0                                   | 0          | 1                              | 0                       | 192                        | 40            | 0                    | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 6                                     | 0           | 0                          | 0                      | 17                           | 10                          | 0                                        | 0                                       | 0                       | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 0                        | 0               | 0             | 0                        | 0                 | 0                                             | 0               | 57                     | 0                    | 0\nCastro Street and El Camino Real | 0             | 0                 | 0               | 0             | 0                | 0                        | 0               | 0                         | 0                               | 30                               | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 14                   | 0                 | 0                   | 0                               | 0                                    | 0             | 0         | 0           | 0              | 0             | 0                 | 0                                   | 0          | 931                            | 34                      | 0                          | 0             | 0                    | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 7                                     | 0           | 0                          | 0                      | 4                            | 12                          | 0                                        | 0                                       | 0                       | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 0                        | 0               | 0             | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\n... (60 rows omitted)","content_type":"text/plain"}}}],"key":"vH9CFAGsEV"}],"key":"JJedrqvDRV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can also use ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GFUBVidwto"},{"type":"inlineCode","value":"pivot","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pwk3lb2Rln"},{"type":"text","value":" to find the shortest time of the rides between Start and End Stations. Here ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gs7ESawo3Z"},{"type":"inlineCode","value":"pivot","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qnc0Dv8O6Q"},{"type":"text","value":" has been given ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qB0ZYcCMDb"},{"type":"inlineCode","value":"Duration","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AFP0ozfOIy"},{"type":"text","value":" as the optional ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rnrGnZWiCb"},{"type":"inlineCode","value":"values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aVKWfjYe1k"},{"type":"text","value":" argument, and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bfV4PTYbB8"},{"type":"inlineCode","value":"min","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MDGicQOs7p"},{"type":"text","value":" as the function which to perform on the values in each cell.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"beOPZbCz2r"}],"key":"RdkjLKbHur"}],"key":"Rol3SNvqBy"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"commute.pivot('Start Station', 'End Station', 'Duration', min)","key":"qLFMQ2dQ3G"},{"type":"output","id":"mJId_fmxrxqHdadjad6hQ","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"3ee69030d30ed509a2e28166b7f54490","path":"/build/3ee69030d30ed509a2e28166b7f54490.html"},"text/plain":{"content":"End Station                      | 2nd at Folsom | 2nd at South Park | 2nd at Townsend | 5th at Howard | Adobe on Almaden | Arena Green / SAP Center | Beale at Market | Broadway St at Battery St | California Ave Caltrain Station | Castro Street and El Camino Real | Civic Center BART (7th at Market) | Clay at Battery | Commercial at Montgomery | Cowper at University | Davis at Jackson | Embarcadero at Bryant | Embarcadero at Folsom | Embarcadero at Sansome | Embarcadero at Vallejo | Evelyn Park and Ride | Franklin at Maple | Golden Gate at Polk | Grant Avenue at Columbus Avenue | Harry Bridges Plaza (Ferry Building) | Howard at 2nd | Japantown | MLK Library | Market at 10th | Market at 4th | Market at Sansome | Mechanics Plaza (Market at Battery) | Mezes Park | Mountain View Caltrain Station | Mountain View City Hall | Palo Alto Caltrain Station | Park at Olive | Paseo de San Antonio | Post at Kearny | Powell Street BART | Powell at Post (Union Square) | Redwood City Caltrain Station | Redwood City Medical Center | Redwood City Public Library | Rengstorff Avenue / California Street | Ryland Park | SJSU - San Salvador at 9th | SJSU 4th at San Carlos | San Antonio Caltrain Station | San Antonio Shopping Center | San Francisco Caltrain (Townsend at 4th) | San Francisco Caltrain 2 (330 Townsend) | San Francisco City Hall | San Jose City Hall | San Jose Civic Center | San Jose Diridon Caltrain Station | San Mateo County Center | San Pedro Square | San Salvador at 1st | Santa Clara County Civic Center | Santa Clara at Almaden | South Van Ness at Market | Spear at Folsom | St James Park | Stanford in Redwood City | Steuart at Market | Temporary Transbay Terminal (Howard at Beale) | Townsend at 7th | University and Emerson | Washington at Kearny | Yerba Buena Center of the Arts (3rd @ Howard)\n2nd at Folsom                    | 61            | 97                | 164             | 268           | 0                | 0                        | 271             | 407                       | 0                               | 0                                | 483                               | 329             | 306                      | 0                    | 494              | 239                   | 262                   | 687                    | 599                    | 0                    | 0                 | 639                 | 416                             | 282                                  | 80            | 0         | 0           | 506            | 237           | 167               | 250                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 208            | 264                | 290                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 300                                      | 303                                     | 584                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 590                      | 208             | 0             | 0                        | 318               | 149                                           | 448             | 0                      | 429                  | 165\n2nd at South Park                | 61            | 60                | 77              | 86            | 0                | 0                        | 78              | 345                       | 0                               | 0                                | 290                               | 188             | 171                      | 0                    | 357              | 104                   | 81                    | 490                    | 341                    | 0                    | 0                 | 369                 | 278                             | 122                                  | 60            | 0         | 0           | 416            | 142           | 61                | 68                                  | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 60             | 237                | 106                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 63                                       | 66                                      | 458                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 399                      | 63              | 0             | 0                        | 79                | 61                                            | 78              | 0                      | 270                  | 96\n2nd at Townsend                  | 137           | 67                | 60              | 423           | 0                | 0                        | 311             | 469                       | 0                               | 0                                | 546                               | 520             | 474                      | 0                    | 436              | 145                   | 232                   | 509                    | 494                    | 0                    | 0                 | 773                 | 549                             | 325                                  | 221           | 0         | 0           | 667            | 367           | 265               | 395                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 319            | 455                | 398                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 125                                      | 133                                     | 742                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 777                      | 241             | 0             | 0                        | 291               | 249                                           | 259             | 0                      | 610                  | 284\n5th at Howard                    | 215           | 300               | 384             | 68            | 0                | 0                        | 357             | 530                       | 0                               | 0                                | 179                               | 412             | 364                      | 0                    | 543              | 419                   | 359                   | 695                    | 609                    | 0                    | 0                 | 235                 | 474                             | 453                                  | 145           | 0         | 0           | 269            | 161           | 250               | 306                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 234            | 89                 | 202                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 256                                      | 221                                     | 347                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 375                      | 402             | 0             | 0                        | 455               | 265                                           | 357             | 0                      | 553                  | 109\nAdobe on Almaden                 | 0             | 0                 | 0               | 0             | 84               | 275                      | 0               | 0                         | 0                               | 0                                | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 701       | 387         | 0              | 0             | 0                 | 0                                   | 0          | 0                              | 0                       | 0                          | 0             | 229                  | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 0                                     | 441         | 452                        | 318                    | 0                            | 0                           | 0                                        | 0                                       | 0                       | 309                | 146                   | 182                               | 0                       | 207              | 358                 | 876                             | 101                    | 0                        | 0               | 369           | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\nArena Green / SAP Center         | 0             | 0                 | 0               | 0             | 305              | 62                       | 0               | 0                         | 0                               | 0                                | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 526       | 546         | 0              | 0             | 0                 | 0                                   | 0          | 0                              | 0                       | 0                          | 0             | 403                  | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 0                                     | 288         | 875                        | 685                    | 0                            | 0                           | 0                                        | 0                                       | 0                       | 440                | 420                   | 153                               | 0                       | 166              | 624                 | 759                             | 116                    | 0                        | 0               | 301           | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\nBeale at Market                  | 219           | 343               | 417             | 387           | 0                | 0                        | 60              | 155                       | 0                               | 0                                | 343                               | 122             | 153                      | 0                    | 115              | 216                   | 170                   | 303                    | 198                    | 0                    | 0                 | 437                 | 235                             | 149                                  | 204           | 0         | 0           | 535            | 203           | 88                | 72                                  | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 191            | 316                | 191                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 499                                      | 395                                     | 526                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 575                      | 173             | 0             | 0                        | 87                | 94                                            | 619             | 0                      | 222                  | 264\nBroadway St at Battery St        | 351           | 424               | 499             | 555           | 0                | 0                        | 195             | 62                        | 0                               | 0                                | 520                               | 90              | 129                      | 0                    | 70               | 340                   | 284                   | 128                    | 101                    | 0                    | 0                 | 961                 | 148                             | 168                                  | 357           | 0         | 0           | 652            | 351           | 218               | 221                                 | 0          | 0                              | 0                       | 0                          | 0             | 0                    | 255            | 376                | 316                           | 0                             | 0                           | 0                           | 0                                     | 0           | 0                          | 0                      | 0                            | 0                           | 611                                      | 599                                     | 799                     | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 738                      | 336             | 0             | 0                        | 169               | 291                                           | 885             | 0                      | 134                  | 411\nCalifornia Ave Caltrain Station  | 0             | 0                 | 0               | 0             | 0                | 0                        | 0               | 0                         | 82                              | 1645                             | 0                                 | 0               | 0                        | 628                  | 0                | 0                     | 0                     | 0                      | 0                      | 0                    | 0                 | 0                   | 0                               | 0                                    | 0             | 0         | 0           | 0              | 0             | 0                 | 0                                   | 0          | 1771                           | 0                       | 484                        | 131           | 0                    | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 1077                                  | 0           | 0                          | 0                      | 870                          | 911                         | 0                                        | 0                                       | 0                       | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 0                        | 0               | 0             | 0                        | 0                 | 0                                             | 0               | 531                    | 0                    | 0\nCastro Street and El Camino Real | 0             | 0                 | 0               | 0             | 0                | 0                        | 0               | 0                         | 0                               | 74                               | 0                                 | 0               | 0                        | 0                    | 0                | 0                     | 0                     | 0                      | 0                      | 499                  | 0                 | 0                   | 0                               | 0                                    | 0             | 0         | 0           | 0              | 0             | 0                 | 0                                   | 0          | 201                            | 108                     | 0                          | 0             | 0                    | 0              | 0                  | 0                             | 0                             | 0                           | 0                           | 654                                   | 0           | 0                          | 0                      | 953                          | 696                         | 0                                        | 0                                       | 0                       | 0                  | 0                     | 0                                 | 0                       | 0                | 0                   | 0                               | 0                      | 0                        | 0               | 0             | 0                        | 0                 | 0                                             | 0               | 0                      | 0                    | 0\n... (60 rows omitted)","content_type":"text/plain"}}}],"key":"G1K4nFygTQ"}],"key":"HyRQC4tMMI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Someone had a very quick trip (271 seconds, or about 4.5 minutes) from Beale at Market to 2nd at Folsom, about five blocks away. There are no bike trips between the 2nd Avenue stations and Adobe on Almaden, because the latter is in a different city.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zl4Yy5daxk"}],"key":"LJBElp9TaB"}],"key":"ra60tUY7wb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Drawing Maps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mft2kKhHMC"}],"identifier":"drawing-maps","label":"Drawing Maps","html_id":"drawing-maps","implicit":true,"key":"PzmY2EbN13"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The table ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sZpYSJTBov"},{"type":"inlineCode","value":"stations","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DBc3Bopcjt"},{"type":"text","value":" contains geographical information about each bike station, including latitude, longitude, and a “landmark” which is the name of the city where the station is located.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"R7SF0YZi6M"}],"key":"QLoF6eSgNM"}],"key":"OVHLirItlh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"stations = Table.read_table(path_data + 'station.csv')\nstations","key":"mkasWsOk6F"},{"type":"output","id":"H3WLlPRbXOR0Mz3d58_Nb","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>station_id</th> <th>name</th> <th>lat</th> <th>long</th> <th>dockcount</th> <th>landmark</th> <th>installation</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>2         </td> <td>San Jose Diridon Caltrain Station</td> <td>37.3297</td> <td>-121.902</td> <td>27       </td> <td>San Jose</td> <td>8/6/2013    </td>\n        </tr>\n        <tr>\n            <td>3         </td> <td>San Jose Civic Center            </td> <td>37.3307</td> <td>-121.889</td> <td>15       </td> <td>San Jose</td> <td>8/5/2013    </td>\n        </tr>\n        <tr>\n            <td>4         </td> <td>Santa Clara at Almaden           </td> <td>37.334 </td> <td>-121.895</td> <td>11       </td> <td>San Jose</td> <td>8/6/2013    </td>\n        </tr>\n        <tr>\n            <td>5         </td> <td>Adobe on Almaden                 </td> <td>37.3314</td> <td>-121.893</td> <td>19       </td> <td>San Jose</td> <td>8/5/2013    </td>\n        </tr>\n        <tr>\n            <td>6         </td> <td>San Pedro Square                 </td> <td>37.3367</td> <td>-121.894</td> <td>15       </td> <td>San Jose</td> <td>8/7/2013    </td>\n        </tr>\n        <tr>\n            <td>7         </td> <td>Paseo de San Antonio             </td> <td>37.3338</td> <td>-121.887</td> <td>15       </td> <td>San Jose</td> <td>8/7/2013    </td>\n        </tr>\n        <tr>\n            <td>8         </td> <td>San Salvador at 1st              </td> <td>37.3302</td> <td>-121.886</td> <td>15       </td> <td>San Jose</td> <td>8/5/2013    </td>\n        </tr>\n        <tr>\n            <td>9         </td> <td>Japantown                        </td> <td>37.3487</td> <td>-121.895</td> <td>15       </td> <td>San Jose</td> <td>8/5/2013    </td>\n        </tr>\n        <tr>\n            <td>10        </td> <td>San Jose City Hall               </td> <td>37.3374</td> <td>-121.887</td> <td>15       </td> <td>San Jose</td> <td>8/6/2013    </td>\n        </tr>\n        <tr>\n            <td>11        </td> <td>MLK Library                      </td> <td>37.3359</td> <td>-121.886</td> <td>19       </td> <td>San Jose</td> <td>8/6/2013    </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (60 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"station_id | name                              | lat     | long     | dockcount | landmark | installation\n2          | San Jose Diridon Caltrain Station | 37.3297 | -121.902 | 27        | San Jose | 8/6/2013\n3          | San Jose Civic Center             | 37.3307 | -121.889 | 15        | San Jose | 8/5/2013\n4          | Santa Clara at Almaden            | 37.334  | -121.895 | 11        | San Jose | 8/6/2013\n5          | Adobe on Almaden                  | 37.3314 | -121.893 | 19        | San Jose | 8/5/2013\n6          | San Pedro Square                  | 37.3367 | -121.894 | 15        | San Jose | 8/7/2013\n7          | Paseo de San Antonio              | 37.3338 | -121.887 | 15        | San Jose | 8/7/2013\n8          | San Salvador at 1st               | 37.3302 | -121.886 | 15        | San Jose | 8/5/2013\n9          | Japantown                         | 37.3487 | -121.895 | 15        | San Jose | 8/5/2013\n10         | San Jose City Hall                | 37.3374 | -121.887 | 15        | San Jose | 8/6/2013\n11         | MLK Library                       | 37.3359 | -121.886 | 19        | San Jose | 8/6/2013\n... (60 rows omitted)","content_type":"text/plain"}}}],"key":"pOeF3PZUjQ"}],"key":"iSlMwB4vqr"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can draw a map of where the stations are located, using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nlo2hqcD18"},{"type":"inlineCode","value":"Marker.map_table","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gkcxD6nEHl"},{"type":"text","value":". The function operates on a table, whose columns are (in order) latitude, longitude, and an optional identifier for each point.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xuyweJVARR"}],"key":"Gg9ydaoR1P"}],"key":"IZ6t6zX1Kr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"Marker.map_table(stations.select('lat', 'long', 'name').relabel('name', 'labels'))","key":"PuLwvigId9"},{"type":"output","id":"6v1Y2b3dD2r9q3d78Iw_c","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"febefb5cf8accac1bdee8b31027a7cbd","path":"/build/febefb5cf8accac1bdee8b31027a7cbd.html"},"text/plain":{"content":"<datascience.maps.Map at 0x7f015faaf1c0>","content_type":"text/plain"}}}],"key":"DhC7dGp2Ic"}],"key":"RMiRIzD3RO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The map is created using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ykri7KCOra"},{"type":"link","url":"http://www.openstreetmap.org/#map=5/51.500/-0.100","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"OpenStreetMap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pDSKOd2xqJ"}],"urlSource":"http://www.openstreetmap.org/#map=5/51.500/-0.100","key":"kUhVKStozM"},{"type":"text","value":", which is an open online mapping system that you can use just as you would use Google Maps or any other online map. Zoom in to San Francisco to see how the stations are distributed. Click on a marker to see which station it is.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JyVNFEDKDx"}],"key":"or8Z6QGIR3"}],"key":"s5IaFrOA31"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"You can also represent points on a map by colored circles. Here is such a map of the San Francisco bike stations.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SOYmRcV5g0"}],"key":"UdNuq2scb5"}],"key":"vUu5ziO2Qh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sf = stations.where('landmark', are.equal_to('San Francisco'))\nsf_map_data = sf.select('lat', 'long', 'name').relabel('name', 'labels')\nCircle.map_table(sf_map_data, color='green')","key":"a1zvd7WWWQ"},{"type":"output","id":"jRkct7XCt2GFQwmqllkj1","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"f29f8a80797ce8cfcb720d8125bc5f3a","path":"/build/f29f8a80797ce8cfcb720d8125bc5f3a.html"},"text/plain":{"content":"<datascience.maps.Map at 0x7f0191ad31f0>","content_type":"text/plain"}}}],"key":"ReZ16mZ5aH"}],"key":"R8AsBe6ELA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"More Informative Maps: An Application of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xUhPJA4lSf"},{"type":"inlineCode","value":"join","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FsSHH90JiZ"}],"identifier":"more-informative-maps-an-application-of-join","label":"More Informative Maps: An Application of join","html_id":"more-informative-maps-an-application-of-join","implicit":true,"key":"fo6SM3X025"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The bike stations are located in five different cities in the Bay Area. To distinguish the points by using a different color for each city, let’s start by using group to identify all the cities and assign each one a color.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tIX31mD6zf"}],"key":"XNeorp3vFV"}],"key":"yD6jfdvLVO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cities = stations.group('landmark').relabeled('landmark', 'city')\ncities","key":"f8wfArUN8S"},{"type":"output","id":"NoHVaBRphRqXC_EMe41N9","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>city</th> <th>count</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>Mountain View</td> <td>7    </td>\n        </tr>\n        <tr>\n            <td>Palo Alto    </td> <td>5    </td>\n        </tr>\n        <tr>\n            <td>Redwood City </td> <td>7    </td>\n        </tr>\n        <tr>\n            <td>San Francisco</td> <td>35   </td>\n        </tr>\n        <tr>\n            <td>San Jose     </td> <td>16   </td>\n        </tr>\n    </tbody>\n</table>","content_type":"text/html"},"text/plain":{"content":"city          | count\nMountain View | 7\nPalo Alto     | 5\nRedwood City  | 7\nSan Francisco | 35\nSan Jose      | 16","content_type":"text/plain"}}}],"key":"Vwtzvwl7oY"}],"key":"dUhlQscxCz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"colors = cities.with_column('color', make_array('blue', 'red', 'green', 'orange', 'purple'))\ncolors","key":"F0ABfl3hHW"},{"type":"output","id":"3nE3ZhtlWCegIoyT4q9kq","data":[{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>city</th> <th>count</th> <th>color</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>Mountain View</td> <td>7    </td> <td>blue  </td>\n        </tr>\n        <tr>\n            <td>Palo Alto    </td> <td>5    </td> <td>red   </td>\n        </tr>\n        <tr>\n            <td>Redwood City </td> <td>7    </td> <td>green </td>\n        </tr>\n        <tr>\n            <td>San Francisco</td> <td>35   </td> <td>orange</td>\n        </tr>\n        <tr>\n            <td>San Jose     </td> <td>16   </td> <td>purple</td>\n        </tr>\n    </tbody>\n</table>","content_type":"text/html"},"text/plain":{"content":"city          | count | color\nMountain View | 7     | blue\nPalo Alto     | 5     | red\nRedwood City  | 7     | green\nSan Francisco | 35    | orange\nSan Jose      | 16    | purple","content_type":"text/plain"}}}],"key":"aB2yZ2lDGR"}],"key":"oaSeIouQ3z"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we can join ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z6UorrZcOP"},{"type":"inlineCode","value":"stations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ps1I0Af3KS"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uGGbXcL40U"},{"type":"inlineCode","value":"colors","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MEpHq75YSD"},{"type":"text","value":" by ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WwZnMUW0Py"},{"type":"inlineCode","value":"landmark","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fjQ37e1Qul"},{"type":"text","value":", and then select the columns we need to draw a map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BIUkmQJfhR"}],"key":"gj5c1fWiOX"}],"key":"ttieoGy1B3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"joined = stations.join('landmark', colors, 'city')\ncolored = joined.select('lat', 'long', 'name', 'color').relabel('name', 'labels')\nMarker.map_table(colored)","key":"GIcjf9OJSE"},{"type":"output","id":"MPHhoNc9rUrZo9gtSEF6Y","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"e5b168840d2e20b2f96c6210523ac864","path":"/build/e5b168840d2e20b2f96c6210523ac864.html"},"text/plain":{"content":"<datascience.maps.Map at 0x7f016578f6d0>","content_type":"text/plain"}}}],"key":"xqrbEb4Ezj"}],"key":"CE7LccvvKe"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now the markers have five different colors for the five different cities.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"masomWJ8X3"}],"key":"AnRWI9IBG0"}],"key":"cSrnjmD0xf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"To see where most of the bike rentals originate, let’s identify the start stations:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EkTxJrceJP"}],"key":"wRSE4SzQBN"}],"key":"WTGKbVqyAI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"starts = commute.group('Start Station').sort('count', descending=True)\nstarts","key":"XyqVqxq75i"},{"type":"output","id":"EI2fVISn0Ez0WOfKieSpp","data":[{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Start Station</th> <th>count</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>San Francisco Caltrain (Townsend at 4th)     </td> <td>25858</td>\n        </tr>\n        <tr>\n            <td>San Francisco Caltrain 2 (330 Townsend)      </td> <td>21523</td>\n        </tr>\n        <tr>\n            <td>Harry Bridges Plaza (Ferry Building)         </td> <td>15543</td>\n        </tr>\n        <tr>\n            <td>Temporary Transbay Terminal (Howard at Beale)</td> <td>14298</td>\n        </tr>\n        <tr>\n            <td>2nd at Townsend                              </td> <td>13674</td>\n        </tr>\n        <tr>\n            <td>Townsend at 7th                              </td> <td>13579</td>\n        </tr>\n        <tr>\n            <td>Steuart at Market                            </td> <td>13215</td>\n        </tr>\n        <tr>\n            <td>Embarcadero at Sansome                       </td> <td>12842</td>\n        </tr>\n        <tr>\n            <td>Market at 10th                               </td> <td>11523</td>\n        </tr>\n        <tr>\n            <td>Market at Sansome                            </td> <td>11023</td>\n        </tr>\n    </tbody>\n</table>\n<p>... (60 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"Start Station                                 | count\nSan Francisco Caltrain (Townsend at 4th)      | 25858\nSan Francisco Caltrain 2 (330 Townsend)       | 21523\nHarry Bridges Plaza (Ferry Building)          | 15543\nTemporary Transbay Terminal (Howard at Beale) | 14298\n2nd at Townsend                               | 13674\nTownsend at 7th                               | 13579\nSteuart at Market                             | 13215\nEmbarcadero at Sansome                        | 12842\nMarket at 10th                                | 11523\nMarket at Sansome                             | 11023\n... (60 rows omitted)","content_type":"text/plain"}}}],"key":"aU1bYitElU"}],"key":"wu8rETCo3k"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can include the geographical data needed to map these stations, by first joining ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RzIysyNMmV"},{"type":"inlineCode","value":"starts","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HXmGDYM7bd"},{"type":"text","value":" with ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LN2u3eUFMV"},{"type":"inlineCode","value":"stations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"trzxXH2ZOf"},{"type":"text","value":":","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QVUNWIZmF6"}],"key":"NsuBcc25Sj"}],"key":"nwYIzUYxO6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"station_starts = stations.join('name', starts, 'Start Station')\nstation_starts","key":"hNIPwsF65f"},{"type":"output","id":"jTdkh03evxr_waElTwKh-","data":[{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>name</th> <th>station_id</th> <th>lat</th> <th>long</th> <th>dockcount</th> <th>landmark</th> <th>installation</th> <th>count</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>2nd at Folsom                   </td> <td>62        </td> <td>37.7853</td> <td>-122.396</td> <td>19       </td> <td>San Francisco</td> <td>8/22/2013   </td> <td>7841 </td>\n        </tr>\n        <tr>\n            <td>2nd at South Park               </td> <td>64        </td> <td>37.7823</td> <td>-122.393</td> <td>15       </td> <td>San Francisco</td> <td>8/22/2013   </td> <td>9274 </td>\n        </tr>\n        <tr>\n            <td>2nd at Townsend                 </td> <td>61        </td> <td>37.7805</td> <td>-122.39 </td> <td>27       </td> <td>San Francisco</td> <td>8/22/2013   </td> <td>13674</td>\n        </tr>\n        <tr>\n            <td>5th at Howard                   </td> <td>57        </td> <td>37.7818</td> <td>-122.405</td> <td>15       </td> <td>San Francisco</td> <td>8/21/2013   </td> <td>7394 </td>\n        </tr>\n        <tr>\n            <td>Adobe on Almaden                </td> <td>5         </td> <td>37.3314</td> <td>-121.893</td> <td>19       </td> <td>San Jose     </td> <td>8/5/2013    </td> <td>522  </td>\n        </tr>\n        <tr>\n            <td>Arena Green / SAP Center        </td> <td>14        </td> <td>37.3327</td> <td>-121.9  </td> <td>19       </td> <td>San Jose     </td> <td>8/5/2013    </td> <td>590  </td>\n        </tr>\n        <tr>\n            <td>Beale at Market                 </td> <td>56        </td> <td>37.7923</td> <td>-122.397</td> <td>19       </td> <td>San Francisco</td> <td>8/20/2013   </td> <td>8135 </td>\n        </tr>\n        <tr>\n            <td>Broadway St at Battery St       </td> <td>82        </td> <td>37.7985</td> <td>-122.401</td> <td>15       </td> <td>San Francisco</td> <td>1/22/2014   </td> <td>7460 </td>\n        </tr>\n        <tr>\n            <td>California Ave Caltrain Station </td> <td>36        </td> <td>37.4291</td> <td>-122.143</td> <td>15       </td> <td>Palo Alto    </td> <td>8/14/2013   </td> <td>300  </td>\n        </tr>\n        <tr>\n            <td>Castro Street and El Camino Real</td> <td>32        </td> <td>37.386 </td> <td>-122.084</td> <td>11       </td> <td>Mountain View</td> <td>12/31/2013  </td> <td>1137 </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (58 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"name                             | station_id | lat     | long     | dockcount | landmark      | installation | count\n2nd at Folsom                    | 62         | 37.7853 | -122.396 | 19        | San Francisco | 8/22/2013    | 7841\n2nd at South Park                | 64         | 37.7823 | -122.393 | 15        | San Francisco | 8/22/2013    | 9274\n2nd at Townsend                  | 61         | 37.7805 | -122.39  | 27        | San Francisco | 8/22/2013    | 13674\n5th at Howard                    | 57         | 37.7818 | -122.405 | 15        | San Francisco | 8/21/2013    | 7394\nAdobe on Almaden                 | 5          | 37.3314 | -121.893 | 19        | San Jose      | 8/5/2013     | 522\nArena Green / SAP Center         | 14         | 37.3327 | -121.9   | 19        | San Jose      | 8/5/2013     | 590\nBeale at Market                  | 56         | 37.7923 | -122.397 | 19        | San Francisco | 8/20/2013    | 8135\nBroadway St at Battery St        | 82         | 37.7985 | -122.401 | 15        | San Francisco | 1/22/2014    | 7460\nCalifornia Ave Caltrain Station  | 36         | 37.4291 | -122.143 | 15        | Palo Alto     | 8/14/2013    | 300\nCastro Street and El Camino Real | 32         | 37.386  | -122.084 | 11        | Mountain View | 12/31/2013   | 1137\n... (58 rows omitted)","content_type":"text/plain"}}}],"key":"DcFylSIpOS"}],"key":"KCG2YPJ5Ok"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we extract just the data needed for drawing our map, adding a color and an area to each station. The area is 0.3 times the count of the number of rentals starting at each station, where the constant 0.3 was chosen so that the circles would appear at an appropriate scale on the map.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qLwFmPFoRj"}],"key":"EmQse6Zu3W"}],"key":"F7k78Gf8bv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"starts_map_data = station_starts.select('lat', 'long', 'name').with_columns(\n    'colors', 'blue',\n    'areas', station_starts.column('count') * 0.3\n)\nstarts_map_data.show(3)\nCircle.map_table(starts_map_data.relabel('name', 'labels'))","key":"H1GCqEprYI"},{"type":"output","id":"abyru8nDpINktBga4o-3u","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>lat</th> <th>long</th> <th>name</th> <th>colors</th> <th>areas</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>37.7853</td> <td>-122.396</td> <td>2nd at Folsom    </td> <td>blue  </td> <td>2352.3</td>\n        </tr>\n        <tr>\n            <td>37.7823</td> <td>-122.393</td> <td>2nd at South Park</td> <td>blue  </td> <td>2782.2</td>\n        </tr>\n        <tr>\n            <td>37.7805</td> <td>-122.39 </td> <td>2nd at Townsend  </td> <td>blue  </td> <td>4102.2</td>\n        </tr>\n    </tbody>\n</table>\n<p>... (65 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"67ea78dbe164211680c94940a64ad0e3","path":"/build/67ea78dbe164211680c94940a64ad0e3.html"},"text/plain":{"content":"<datascience.maps.Map at 0x7f016552bdf0>","content_type":"text/plain"}}}],"key":"EeuGgdpnGk"}],"key":"eIJLPhRJcG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"That huge blob in San Francisco shows that the eastern section of the city is the unrivaled capital of bike rentals in the Bay Area.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JCY391M1tz"}],"key":"GgdkoWjaez"}],"key":"XOVJ9D1XOa"}],"key":"N4VNoayXJU"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Joining Tables by Columns","url":"/chapters/08/4/joining-tables-by-columns","group":"Computational and Inferential Thinking"},"next":{"title":"Randomness","url":"/chapters/09/randomness","group":"Computational and Inferential Thinking"}}},"domain":"http://localhost:3000"}