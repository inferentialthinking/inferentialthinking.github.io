{"version":2,"kind":"Notebook","sha256":"b2997ca84b6092b577008f40c2a3b48d122b5c6dd4afc81e93c9215064942b59","slug":"chapters.15.2.regression-line","location":"/chapters/15/2/Regression_Line.ipynb","dependencies":[],"frontmatter":{"title":"The Regression Line","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"license":{"content":{"id":"CC-BY-NC-ND-4.0","url":"https://creativecommons.org/licenses/by-nc-nd/4.0/","name":"Creative Commons Attribution Non Commercial No Derivatives 4.0 International","CC":true}},"github":"https://github.com/data-8/textbook","numbering":{"title":{"enabled":true,"offset":1}},"source_url":"https://github.com/data-8/textbook/blob/main/chapters/15/2/Regression_Line.ipynb","edit_url":"https://github.com/data-8/textbook/edit/main/chapters/15/2/Regression_Line.ipynb","enumerator":"15.2","thumbnail":"/build/regline-6275539e16b9f1a5de8876a751e967a6.png","exports":[{"format":"ipynb","filename":"Regression_Line.ipynb","url":"/build/Regression_Line-5bb8f64aad53570c587616f349536bca.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The correlation coefficient ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"h12KRR9S2X"},{"type":"inlineMath","value":"r","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"c70MgbpLz4"},{"type":"text","value":" doesn’t just measure how clustered the points in a scatter plot are about a straight line. It also helps identify the straight line about which the points are clustered. In this section we will retrace the path that Galton and Pearson took to discover that line.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sAmmIqHgqi"}],"key":"o5RfkCf3HK"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"As we have seen, our dataset on the heights of parents and their adult children indicates a linear association between the two variables. The linearity was confirmed when our predictions of the children’s heights based on the midparent heights roughly followed a straight line.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"BTs8D13gUO"}],"key":"oqiU4YkMMD"}],"key":"xuHQaAqA2u"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from datascience import *\nimport numpy as np\npath_data = '../../../assets/data/'\n%matplotlib inline\nimport matplotlib.pyplot as plots\nplots.style.use('fivethirtyeight')","visibility":"remove","key":"Kwll9yNRMA"},{"type":"output","id":"RSrEkzAuXX7ioxxxg9mH6","data":[],"visibility":"show","key":"nc4d4E2cQ7"}],"visibility":"show","key":"XumVijAQDS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"original = Table.read_table(path_data + 'family_heights.csv')\n\nheights = Table().with_columns(\n    'MidParent', original.column('midparentHeight'),\n    'Child', original.column('childHeight')\n    )","key":"pwuJSaqFug"},{"type":"output","id":"1QMWBXByo3cRjP_9VjByF","data":[],"key":"G4kn5cMfRs"}],"key":"Cw9hffZRfO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def predict_child(mpht):\n    \"\"\"Return a prediction of the height of a child \n    whose parents have a midparent height of mpht.\n    \n    The prediction is the average height of the children \n    whose midparent height is in the range mpht plus or minus 0.5 inches.\n    \"\"\"\n    \n    close_points = heights.where('MidParent', are.between(mpht-0.5, mpht + 0.5))\n    return close_points.column('Child').mean()   ","key":"rrKxNn4cgO"},{"type":"output","id":"2hhAOFbcfcy5FFqIJiPHu","data":[],"key":"bLS0kaNEsT"}],"key":"ggc7dGOQZc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_predictions = heights.with_column(\n    'Prediction', heights.apply(predict_child, 'MidParent')\n    )","key":"m47o2jrUSr"},{"type":"output","id":"IU7YmkHcdchkrBAlC8Mk3","data":[],"key":"YMRGsMMVNV"}],"key":"GQLW4aCW6n"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_predictions.scatter('MidParent')","key":"i95ldDBS0P"},{"type":"output","id":"_j5FMerBM0jnWRIngtgd6","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"256d04b68fd6922cfc800a4522b0eb9d","path":"/build/256d04b68fd6922cfc800a4522b0eb9d.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"Lv2N42vEBq"}],"key":"mMOBtyNf3N"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Measuring in Standard Units","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"suIk3TVR6o"}],"identifier":"measuring-in-standard-units","label":"Measuring in Standard Units","html_id":"measuring-in-standard-units","implicit":true,"key":"QZMiD4DBaW"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s see if we can find a way to identify this line. First, notice that linear association doesn’t depend on the units of measurement – we might as well measure both variables in standard units.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rSfBjHM6g6"}],"key":"pxvXhV4GQe"}],"key":"Jkz67MVNYs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def standard_units(xyz):\n    \"Convert any array of numbers to standard units.\"\n    return (xyz - np.mean(xyz))/np.std(xyz)  ","key":"WLqEPaLdLj"},{"type":"output","id":"XaAKKkDXlGU30ksiX3US9","data":[],"key":"xz0jac5njz"}],"key":"FxPvLZjgnD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_SU = Table().with_columns(\n    'MidParent SU', standard_units(heights.column('MidParent')),\n    'Child SU', standard_units(heights.column('Child'))\n)\nheights_SU","key":"aYpFQaMoqT"},{"type":"output","id":"FgYQC6fzwPlo2eXES312-","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>MidParent SU</th> <th>Child SU</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>3.45465     </td> <td>1.80416  </td>\n        </tr>\n        <tr>\n            <td>3.45465     </td> <td>0.686005 </td>\n        </tr>\n        <tr>\n            <td>3.45465     </td> <td>0.630097 </td>\n        </tr>\n        <tr>\n            <td>3.45465     </td> <td>0.630097 </td>\n        </tr>\n        <tr>\n            <td>2.47209     </td> <td>1.88802  </td>\n        </tr>\n        <tr>\n            <td>2.47209     </td> <td>1.60848  </td>\n        </tr>\n        <tr>\n            <td>2.47209     </td> <td>-0.348285</td>\n        </tr>\n        <tr>\n            <td>2.47209     </td> <td>-0.348285</td>\n        </tr>\n        <tr>\n            <td>1.58389     </td> <td>1.18917  </td>\n        </tr>\n        <tr>\n            <td>1.58389     </td> <td>0.350559 </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (924 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"MidParent SU | Child SU\n3.45465      | 1.80416\n3.45465      | 0.686005\n3.45465      | 0.630097\n3.45465      | 0.630097\n2.47209      | 1.88802\n2.47209      | 1.60848\n2.47209      | -0.348285\n2.47209      | -0.348285\n1.58389      | 1.18917\n1.58389      | 0.350559\n... (924 rows omitted)","content_type":"text/plain"}}}],"key":"OYkuDd3doW"}],"key":"VZm9HsEtwK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"On this scale, we can calculate our predictions exactly as before. But first we have to figure out how to convert our old definition of “close” points to a value on the new scale. We had said that midparent heights were “close” if they were within 0.5 inches of each other. Since standard units measure distances in units of SDs, we have to figure out how many SDs of midparent height correspond to 0.5 inches.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f7Blo5Dffe"}],"key":"DDDjmOCdez"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"One SD of midparent heights is about 1.8 inches. So 0.5 inches is about 0.28 SDs.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NxwFOVVVEu"}],"key":"tUxj6uoO0u"}],"key":"CHXs8uJZ4K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sd_midparent = np.std(heights.column(0))\nsd_midparent","key":"teFFi8o6gq"},{"type":"output","id":"1GGdYehyJEELuBkavP6b6","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/plain":{"content":"1.8014050969207571","content_type":"text/plain"}}}],"key":"QGkzKMS5Qg"}],"key":"RZebFUbDZq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"0.5/sd_midparent","key":"rt4Bn9nYW6"},{"type":"output","id":"v_ctSpKf0Lu9xLSkQ-4SA","data":[{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"0.277561110965367","content_type":"text/plain"}}}],"key":"TZUkUyoj9P"}],"key":"itdrQEhdk0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We are now ready to modify our prediction function to make predictions on the standard units scale. All that has changed is that we are using the table of values in standard units, and defining “close” as above.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T0sXuCVfVc"}],"key":"LW0swhO5sh"}],"key":"baOlDVfTI8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def predict_child_su(mpht_su):\n    \"\"\"Return a prediction of the height (in standard units) of a child \n    whose parents have a midparent height of mpht_su in standard units.\n    \"\"\"\n    close = 0.5/sd_midparent\n    close_points = heights_SU.where('MidParent SU', are.between(mpht_su-close, mpht_su + close))\n    return close_points.column('Child SU').mean()   ","key":"LyHhZZzTxq"},{"type":"output","id":"bB0jpGq0R9YCaALKyAOAo","data":[],"key":"dQYnufjEMM"}],"key":"PXimVz3lQR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_su_predictions = heights_SU.with_column(\n    'Prediction SU', heights_SU.apply(predict_child_su, 'MidParent SU')\n    )","key":"ShyFsXnz5q"},{"type":"output","id":"owED99DkUmpVXz90skIMx","data":[],"key":"V9MEKnpDYI"}],"key":"dhGcwVcj2M"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_su_predictions.scatter('MidParent SU')","key":"tpkaLOaf0I"},{"type":"output","id":"o79XQ67I5aW8e2opkJUii","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"143c83ff513df0c6b4fac9b3816a7a4c","path":"/build/143c83ff513df0c6b4fac9b3816a7a4c.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"g2csMKngcI"}],"key":"fe7gjAVa90"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This plot looks exactly like the plot drawn on the original scale. Only the numbers on the axes have changed. This confirms that we can understand the prediction process by just working in standard units.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OCnOzEqAJp"}],"key":"TmeLGvys1z"}],"key":"n4xlgLUVES"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Identifying the Line in Standard Units","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TlFlG9QyXz"}],"identifier":"identifying-the-line-in-standard-units","label":"Identifying the Line in Standard Units","html_id":"identifying-the-line-in-standard-units","implicit":true,"key":"cchM6v64zI"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The scatter plot above has a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vx173uFGi3"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"football","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fPdwWuGpMx"}],"key":"DwqLsQZcll"},{"type":"text","value":" shape – that is, it is roughly oval like an American football. Not all scatter plots are football shaped, not even those that show linear association. But in this section we will work only with football shaped scatter plots. In the next section, we will generalize our analysis to other shapes of plots.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tzS1yyUhM5"}],"key":"i2H3otC1mT"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Here is a football shaped scatter plot with both variables measured in standard units. The 45 degree line is shown in red.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"L2fcyx0FRS"}],"key":"r1p0Qq4ACE"}],"key":"dxwYcHCfy0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"r = 0.5\nx_demo = np.random.normal(0, 1, 10000)\nz_demo = np.random.normal(0, 1, 10000)\ny_demo = r*x_demo + np.sqrt(1 - r**2)*z_demo\nplots.figure(figsize=(6,6))\nplots.xlim(-4, 4)\nplots.ylim(-4, 4)\nplots.scatter(x_demo, y_demo, s=10)\n#plots.plot([-4, 4], [-4*0.6,4*0.6], color='g', lw=2)\nplots.plot([-4,4],[-4,4], color='r', lw=2)\n#plots.plot([1.5,1.5], [-4,4], color='k', lw=2)\nplots.xlabel('x in standard units')\nplots.ylabel('y in standard units');","visibility":"remove","key":"B3LtwM0Db3"},{"type":"output","id":"4apQMk2-cWNPKGyBBbmEi","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cbc5a06027675732e5d797b18589d21d","path":"/build/cbc5a06027675732e5d797b18589d21d.png"},"text/plain":{"content":"<Figure size 432x432 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"jvksNNxsyz"}],"visibility":"show","key":"rMu0NWNcQO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"But the 45 degree line is not the line that picks off the centers of the vertical strips. You can see that in the figure below, where the vertical line at 1.5 standard units is shown in black. The points on the scatter plot near the black line all have heights roughly in the -2 to 3 range. The red line is too high to pick off the center.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uqlDFQzLKK"}],"key":"rYG26uSBGN"}],"key":"Dg64Icp3qR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"r = 0.5\nx_demo = np.random.normal(0, 1, 10000)\nz_demo = np.random.normal(0, 1, 10000)\ny_demo = r*x_demo + np.sqrt(1 - r**2)*z_demo\nplots.figure(figsize=(6,6))\nplots.xlim(-4, 4)\nplots.ylim(-4, 4)\nplots.scatter(x_demo, y_demo, s=10)\n#plots.plot([-4, 4], [-4*0.6,4*0.6], color='g', lw=2)\nplots.plot([-4,4],[-4,4], color='r', lw=2)\nplots.plot([1.5,1.5], [-4,4], color='k', lw=2)\nplots.xlabel('x in standard units')\nplots.ylabel('y in standard units');","visibility":"remove","key":"mGgBcC6tQc"},{"type":"output","id":"ZFkeLCMREmfsiObxUprFf","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"52c97c6419a1c776560f9b2c15327a1e","path":"/build/52c97c6419a1c776560f9b2c15327a1e.png"},"text/plain":{"content":"<Figure size 432x432 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"OgboOYQmu1"}],"visibility":"show","key":"snsE11ypdj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"So the 45 degree line is not the “graph of averages.” That line is the green one shown below.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E21ICwPLNM"}],"key":"eCSYxl81kf"}],"key":"u9ATyuK97M"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"r = 0.5\nx_demo = np.random.normal(0, 1, 10000)\nz_demo = np.random.normal(0, 1, 10000)\ny_demo = r*x_demo + np.sqrt(1 - r**2)*z_demo\nplots.figure(figsize=(6,6))\nplots.xlim(-4, 4)\nplots.ylim(-4, 4)\nplots.scatter(x_demo, y_demo, s=10)\nplots.plot([-4, 4], [-4*0.6,4*0.6], color='g', lw=2)\nplots.plot([-4,4],[-4,4], color='r', lw=2)\nplots.plot([1.5,1.5], [-4,4], color='k', lw=2)\nplots.xlabel('x in standard units')\nplots.ylabel('y in standard units');","visibility":"remove","key":"kFqGo8gI15"},{"type":"output","id":"9tJeVV9x4LEUzXyGSnJVG","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"63faa8745115ac0209c0d919521f8eae","path":"/build/63faa8745115ac0209c0d919521f8eae.png"},"text/plain":{"content":"<Figure size 432x432 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"IeKcUytWHl"}],"visibility":"show","key":"VPJLY2z56z"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Both lines go through the origin (0, 0). The green line goes through the centers of the vertical strips (at least roughly), and is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pJrzBKs3f8"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"flatter","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tg1RAFBbie"}],"key":"BJgZt1oHHa"},{"type":"text","value":" than the red 45 degree line.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CCjLVkRQxJ"}],"key":"XW5EBWYaT5"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The slope of the 45 degree line is 1. So the slope of the green “graph of averages” line is a value that is positive but less than 1.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TLSdBMjM1F"}],"key":"bk2dCkj1Fy"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What value could that be? You’ve guessed it – it’s ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MEf0tRaX7o"},{"type":"inlineMath","value":"r","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"vQQkQhQQck"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Z9frE8I4nP"}],"key":"RJhtXygXMR"}],"key":"HZBPuILJWV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Regression Line, in Standard Units","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rB1UeQB9aO"}],"identifier":"the-regression-line-in-standard-units","label":"The Regression Line, in Standard Units","html_id":"the-regression-line-in-standard-units","implicit":true,"key":"wr5q5uBzrP"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The green “graph of averages” line is called the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"q2zgyGyBh9"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"regression line","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OGlNtPLeVo"}],"key":"gqrOP2shp6"},{"type":"text","value":", for a reason that we will explain shortly. But first, let’s simulate some football shaped scatter plots with different values of ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OEfglsOrzV"},{"type":"inlineMath","value":"r","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"F4on3PxKFI"},{"type":"text","value":", and see how the line changes. In each case, the red 45 degree line has been drawn for comparison.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wuIv2QOeje"}],"key":"tXnyYn9BqY"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The function that performs the simulation is called ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wX9KYp9IFl"},{"type":"inlineCode","value":"regression_line","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"nuHLnrYTZZ"},{"type":"text","value":" and takes ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"SZFaDBUpdN"},{"type":"inlineMath","value":"r","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"lsRLPJPkdX"},{"type":"text","value":" as its argument.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"TGCLfwWNu3"}],"key":"t2dZBgTJar"}],"key":"GrmENr74gR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\ndef regression_line(r):\n    x = np.random.normal(0, 1, 10000)\n    z = np.random.normal(0, 1, 10000)\n    y = r*x + (np.sqrt(1-r**2))*z\n    plots.figure(figsize=(6, 6))\n    plots.xlim(-4, 4)\n    plots.ylim(-4, 4)\n    plots.scatter(x, y)\n    plots.plot([-4, 4], [-4*r,4*r], color='g', lw=2)\n    if r >= 0:\n        plots.plot([-4,4],[-4,4], lw=2, color='r')\n    else:\n        plots.plot([-4,4], [4,-4], lw=2, color='r')","visibility":"remove","key":"LRrQAnBvnB"},{"type":"output","id":"SagbC1UP3PdrwRqSPqxPe","data":[],"visibility":"show","key":"h5BX1hYpPt"}],"visibility":"show","key":"XTuhzpwWcv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"regression_line(0.95)","key":"ZBuRd5oDGI"},{"type":"output","id":"7JIe5fAjUqkUGYWoWeWPE","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"08430f0f2f3c0e4c4c3770388ef4ef7a","path":"/build/08430f0f2f3c0e4c4c3770388ef4ef7a.png"},"text/plain":{"content":"<Figure size 432x432 with 1 Axes>","content_type":"text/plain"}}}],"key":"PXZ9Lb9CmD"}],"key":"FXsxHzTxaZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"regression_line(0.6)","key":"hVLfiPiads"},{"type":"output","id":"7hq2Q_rNTGSk95mp8jKtm","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4c58b56a00dca0da50d4a6699cbb8fb5","path":"/build/4c58b56a00dca0da50d4a6699cbb8fb5.png"},"text/plain":{"content":"<Figure size 432x432 with 1 Axes>","content_type":"text/plain"}}}],"key":"Bkctu6h5z6"}],"key":"Rljs0iQW2i"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oDRLvp7UED"},{"type":"inlineMath","value":"r","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"DIbw67PAlf"},{"type":"text","value":" is close to 1, the scatter plot, the 45 degree line, and the regression line are all very close to each other. But for more moderate values of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iC3uM9pUrv"},{"type":"inlineMath","value":"r","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"OdqjaP5aqR"},{"type":"text","value":", the regression line is noticeably flatter.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"exzTR0f6Ek"}],"key":"OeYmrMwfqk"}],"key":"X7fHCM7C27"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Regression Effect","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GhhglGpGWe"}],"identifier":"the-regression-effect","label":"The Regression Effect","html_id":"the-regression-effect","implicit":true,"key":"g9YiukekSU"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In terms of prediction, this means that for a parents whose midparent height is at 1.5 standard units, our prediction of the child’s height is somewhat ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tMyFnY5UON"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"less","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cLi73LAsJN"}],"key":"ffRwwDe7vX"},{"type":"text","value":" than 1.5 standard units. If the midparent height is 2 standard units, we predict that the child’s height will be somewhat less than 2 standard units.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vlqDCs8ndu"}],"key":"NZ2t9SK7A2"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"In other words, we predict that the child will be somewhat closer to average than the parents were. This is called “regression to the mean” and it is how the name ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ksv8SgfMt1"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"regression","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Pv1vqpJ7iH"}],"key":"BRDi7tGtyv"},{"type":"text","value":" arises.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"WcWY9OLJ6b"}],"key":"puo7p9neC8"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Regression to the mean also works when the midparent height is below average. Children whose midparent heights were below average turned out to be somewhat taller relative to their generation, on average.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"syMMfROgji"}],"key":"WcsOk2wA4d"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"In general, individuals who are away from average on one variable are expected to be not quite as far away from average on the other. This is called the ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"s1Nrz40nKV"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"regression effect","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"d5uH8ddn21"}],"key":"ywdIW0yuuA"},{"type":"text","value":".","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ofWN4ze3DI"}],"key":"xW9O9Qss8e"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Keep in mind that the regression effect is a statement about averages. For example, it says that if you take all children whose midparent height is 1.5 standard units, then the average height of these children is somewhat less than 1.5 standard units. It doesn’t say that all of these children will be somewhat less than 1.5 standard units in height. Some will be taller, and some will be shorter. The ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jUxeCZR2SK"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"average","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"fus4dRXMOK"}],"key":"Jd4FJef1Mr"},{"type":"text","value":" of these heights will be less than 1.5 standard units.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"oaEzG4VmPW"}],"key":"CxnkWUoFya"}],"key":"xsFzDr9wHK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Equation of the Regression Line","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YbbqNJZux9"}],"identifier":"the-equation-of-the-regression-line","label":"The Equation of the Regression Line","html_id":"the-equation-of-the-regression-line","implicit":true,"key":"AALhJGEgs3"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In regression, we use the value of one variable (which we will call ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"wQ25FuErMC"},{"type":"inlineMath","value":"x","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"bnupSOrqn8"},{"type":"text","value":") to predict the value of another (which we will call ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"B1S8rm74eB"},{"type":"inlineMath","value":"y","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"uUuUCwz95e"},{"type":"text","value":"). When the variables ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MRw441r9oe"},{"type":"inlineMath","value":"x","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"Num09LEIGy"},{"type":"text","value":" and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YJ9KV6E0O5"},{"type":"inlineMath","value":"y","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"bLVhe46kMh"},{"type":"text","value":" are measured in standard units, the regression line for predicting ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kzlH8TpF99"},{"type":"inlineMath","value":"y","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"EC2LuO8ovK"},{"type":"text","value":" based on ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"z2gI801VDG"},{"type":"inlineMath","value":"x","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"uloahgdadd"},{"type":"text","value":" has slope ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"U8QakkCzEY"},{"type":"inlineMath","value":"r","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"YXbEHVFEA7"},{"type":"text","value":" and passes through the origin. Thus the equation of the regression line can be written as:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YAoW9AdHDV"}],"key":"kjbNmBeK6K"},{"type":"math","value":"\\mbox{estimate of }y ~=~ r \\cdot x ~~~\n\\mbox{when both variables are measured in standard units}","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>estimate of </mtext><mi>y</mi><mtext> </mtext><mo>=</mo><mtext> </mtext><mi>r</mi><mo>⋅</mo><mi>x</mi><mtext>   when both variables are measured in standard units</mtext></mrow><annotation encoding=\"application/x-tex\">\\mbox{estimate of }y ~=~ r \\cdot x ~~~\n\\mbox{when both variables are measured in standard units}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">estimate of </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace nobreak\"> </span><span class=\"mspace nobreak\"> </span><span class=\"mspace nobreak\"> </span><span class=\"mord text\"><span class=\"mord\">when both variables are measured in standard units</span></span></span></span></span></span>","enumerator":"1","key":"NOvU2K4UH1"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"In the original units of the data, this becomes","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"hUyvfmP67a"}],"key":"PwlxqjBG9b"},{"type":"math","value":"\\frac{\\mbox{estimate of}~y ~-~\\mbox{average of}~y}{\\mbox{SD of}~y}\n~=~ r \\times \n\\frac{\\mbox{the given}~x ~-~\\mbox{average of}~x}{\\mbox{SD of}~x}","position":{"start":{"line":11,"column":1},"end":{"line":15,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mfrac><mrow><mtext>estimate of </mtext><mi>y</mi><mtext> </mtext><mo>−</mo><mtext> average of </mtext><mi>y</mi></mrow><mrow><mtext>SD of </mtext><mi>y</mi></mrow></mfrac><mtext> </mtext><mo>=</mo><mtext> </mtext><mi>r</mi><mo>×</mo><mfrac><mrow><mtext>the given </mtext><mi>x</mi><mtext> </mtext><mo>−</mo><mtext> average of </mtext><mi>x</mi></mrow><mrow><mtext>SD of </mtext><mi>x</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{\\mbox{estimate of}~y ~-~\\mbox{average of}~y}{\\mbox{SD of}~y}\n~=~ r \\times \n\\frac{\\mbox{the given}~x ~-~\\mbox{average of}~x}{\\mbox{SD of}~x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.2519em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">SD of</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">estimate of</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">average of</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0574em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">SD of</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">the given</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\">x</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">average of</span></span><span class=\"mspace nobreak\"> </span><span class=\"mord mathnormal\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"2","key":"qriekG4wwI"},{"type":"image","url":"/build/regline-6275539e16b9f1a5de8876a751e967a6.png","alt":"regline","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"YpPERqjKOO","urlSource":"../../../images/regline.png"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"The slope and intercept of the regression line in original units can be derived from the diagram above.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"vP29SdtRkR"}],"key":"TnKWD4EABu"},{"type":"math","value":"\\mathbf{\\mbox{slope of the regression line}} ~=~ r \\cdot\n\\frac{\\mbox{SD of }y}{\\mbox{SD of }x}","position":{"start":{"line":22,"column":1},"end":{"line":25,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>slope of the regression line </mtext><mo>=</mo><mtext> </mtext><mi>r</mi><mo>⋅</mo><mfrac><mrow><mtext>SD of </mtext><mi>y</mi></mrow><mrow><mtext>SD of </mtext><mi>x</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\mathbf{\\mbox{slope of the regression line}} ~=~ r \\cdot\n\\frac{\\mbox{SD of }y}{\\mbox{SD of }x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">slope of the regression line</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.0574em;vertical-align:-0.686em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">SD of </span></span><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">SD of </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"3","key":"jV6VhoD2UG"},{"type":"math","value":"\\mathbf{\\mbox{intercept of the regression line}} ~=~\n\\mbox{average of }y ~-~ \\mbox{slope} \\cdot \\mbox{average of }x","position":{"start":{"line":27,"column":1},"end":{"line":30,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>intercept of the regression line </mtext><mo>=</mo><mtext> average of </mtext><mi>y</mi><mtext> </mtext><mo>−</mo><mtext> slope</mtext><mo>⋅</mo><mtext>average of </mtext><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbf{\\mbox{intercept of the regression line}} ~=~\n\\mbox{average of }y ~-~ \\mbox{slope} \\cdot \\mbox{average of }x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">intercept of the regression line</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">average of </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">slope</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">average of </span></span><span class=\"mord mathnormal\">x</span></span></span></span></span>","enumerator":"4","key":"K9p3LjQztX"}],"key":"ZzNNIqeKUh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The three functions below compute the correlation, slope, and intercept. All of them take three arguments: the name of the table, the label of the column containing ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QSuFsDBxBH"},{"type":"inlineMath","value":"x","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"QSNj1c7MG4"},{"type":"text","value":", and the label of the column containing ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SZeqR04c5g"},{"type":"inlineMath","value":"y","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"xJHh4AEeDW"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rUvGGmTJp6"}],"key":"bZEV3OPfkL"}],"key":"Ihb4G3UEpI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def correlation(t, label_x, label_y):\n    return np.mean(standard_units(t.column(label_x))*standard_units(t.column(label_y)))\n\ndef slope(t, label_x, label_y):\n    r = correlation(t, label_x, label_y)\n    return r*np.std(t.column(label_y))/np.std(t.column(label_x))\n\ndef intercept(t, label_x, label_y):\n    return np.mean(t.column(label_y)) - slope(t, label_x, label_y)*np.mean(t.column(label_x))","key":"U64Atbn3sJ"},{"type":"output","id":"Mh8corYVNFYWmTFo5M_uM","data":[],"key":"mQjVVy4q8K"}],"key":"X3YgcJZlVl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The Regression Line in the Units of the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gLCT80CyOI"}],"identifier":"the-regression-line-in-the-units-of-the-data","label":"The Regression Line in the Units of the Data","html_id":"the-regression-line-in-the-units-of-the-data","implicit":true,"key":"qxiaRJfnL0"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The correlation between midparent height and child’s height is 0.32:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UL1UiEoy53"}],"key":"K2s8YxW2Ar"}],"key":"dZVLisy8H4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"family_r = correlation(heights, 'MidParent', 'Child')\nfamily_r","key":"fEtFmdky0n"},{"type":"output","id":"K-mhmpRDX__FyXwTf11BL","data":[{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"0.32094989606395924","content_type":"text/plain"}}}],"key":"RvxyRCGZe9"}],"key":"ZGhiy4c9Ei"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can also find the equation of the regression line for predicting the child’s height based on midparent height.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"To5jN6XD3U"}],"key":"XiSlm1FFGj"}],"key":"yxja6FJOnO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"family_slope = slope(heights, 'MidParent', 'Child')\nfamily_intercept = intercept(heights, 'MidParent', 'Child')\nfamily_slope, family_intercept","key":"qTmkrAWiyu"},{"type":"output","id":"aw-CnFyzxBL_FvIoVlLAV","data":[{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/plain":{"content":"(0.637360896969479, 22.63624054958975)","content_type":"text/plain"}}}],"key":"Fqbfh8jjSS"}],"key":"dxX5Pytwk2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The equation of the regression line is","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WVcWULN9Tc"}],"key":"EcW8WGxCiH"},{"type":"math","value":"\\mbox{estimate of child's height} ~=~ 0.64 \\cdot \\mbox{midparent height} ~+~ 22.64","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>estimate of child’s height </mtext><mo>=</mo><mtext> </mtext><mn>0.64</mn><mo>⋅</mo><mtext>midparent height </mtext><mo>+</mo><mtext> </mtext><mn>22.64</mn></mrow><annotation encoding=\"application/x-tex\">\\mbox{estimate of child&#x27;s height} ~=~ 0.64 \\cdot \\mbox{midparent height} ~+~ 22.64</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">estimate of child’s height</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.64</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">midparent height</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">22.64</span></span></span></span></span>","enumerator":"5","key":"UDJi0eWr0G"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"This is also known as the ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Oin0JtBLao"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"regression equation.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XYjgDSvMoj"}],"key":"L17ITIzBIn"},{"type":"text","value":" The principal use of the regression equation is to predict ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rnYFzFmi3c"},{"type":"inlineMath","value":"y","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"BBqOE22cuz"},{"type":"text","value":" based on ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"s6eYBoWKXL"},{"type":"inlineMath","value":"x","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"iVpTmUF7P8"},{"type":"text","value":".","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vBhkMKNYBv"}],"key":"pkZyH8W91V"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"For example, for a midparent height of 70.48 inches, the regression equation predicts the child’s height to be 67.56 inches.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"iow3dCweLj"}],"key":"BfsbpxaTRu"}],"key":"bwFk8yHjya"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"family_slope * 70.48 + family_intercept","key":"XkoVfp7fiE"},{"type":"output","id":"I87nHvogryZ1ydF5NhnaV","data":[{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"67.55743656799862","content_type":"text/plain"}}}],"key":"wKZUYOC0s0"}],"key":"Adz4IaFuPR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Our original prediction, created by taking the average height of all children who had midparent heights close to 70.48, came out to be pretty close: 67.63 inches compared to the regression line’s prediction of 67.55 inches.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PxbSZCg3IK"}],"key":"RnKU0wm6Ay"}],"key":"PuLHJqE9k2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_predictions.where('MidParent', are.equal_to(70.48)).show(3)","key":"LNRQywdkv4"},{"type":"output","id":"BFmNZTFwtjhMPxiUOCT1K","data":[{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>MidParent</th> <th>Child</th> <th>Prediction</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>70.48    </td> <td>74   </td> <td>67.6342   </td>\n        </tr>\n        <tr>\n            <td>70.48    </td> <td>70   </td> <td>67.6342   </td>\n        </tr>\n        <tr>\n            <td>70.48    </td> <td>68   </td> <td>67.6342   </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (5 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}}],"key":"vOqtDSYSWa"}],"key":"XAnvWU2lta"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here are all of the rows of the table, along with our original predictions and the new regression predictions of the children’s heights.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TQxSfdM6PX"}],"key":"DaeUSI1U2F"}],"key":"Alh3Bsq2Rv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_predictions = heights_with_predictions.with_column(\n    'Regression Prediction', family_slope * heights.column('MidParent') + family_intercept\n)\nheights_with_predictions","key":"pA8zCK9adq"},{"type":"output","id":"ce5oyP_rb5VTJx66nTDMK","data":[{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>MidParent</th> <th>Child</th> <th>Prediction</th> <th>Regression Prediction</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>75.43    </td> <td>73.2 </td> <td>70.1      </td> <td>70.7124              </td>\n        </tr>\n        <tr>\n            <td>75.43    </td> <td>69.2 </td> <td>70.1      </td> <td>70.7124              </td>\n        </tr>\n        <tr>\n            <td>75.43    </td> <td>69   </td> <td>70.1      </td> <td>70.7124              </td>\n        </tr>\n        <tr>\n            <td>75.43    </td> <td>69   </td> <td>70.1      </td> <td>70.7124              </td>\n        </tr>\n        <tr>\n            <td>73.66    </td> <td>73.5 </td> <td>70.4158   </td> <td>69.5842              </td>\n        </tr>\n        <tr>\n            <td>73.66    </td> <td>72.5 </td> <td>70.4158   </td> <td>69.5842              </td>\n        </tr>\n        <tr>\n            <td>73.66    </td> <td>65.5 </td> <td>70.4158   </td> <td>69.5842              </td>\n        </tr>\n        <tr>\n            <td>73.66    </td> <td>65.5 </td> <td>70.4158   </td> <td>69.5842              </td>\n        </tr>\n        <tr>\n            <td>72.06    </td> <td>71   </td> <td>68.5025   </td> <td>68.5645              </td>\n        </tr>\n        <tr>\n            <td>72.06    </td> <td>68   </td> <td>68.5025   </td> <td>68.5645              </td>\n        </tr>\n    </tbody>\n</table>\n<p>... (924 rows omitted)</p>","content_type":"text/html"},"text/plain":{"content":"MidParent | Child | Prediction | Regression Prediction\n75.43     | 73.2  | 70.1       | 70.7124\n75.43     | 69.2  | 70.1       | 70.7124\n75.43     | 69    | 70.1       | 70.7124\n75.43     | 69    | 70.1       | 70.7124\n73.66     | 73.5  | 70.4158    | 69.5842\n73.66     | 72.5  | 70.4158    | 69.5842\n73.66     | 65.5  | 70.4158    | 69.5842\n73.66     | 65.5  | 70.4158    | 69.5842\n72.06     | 71    | 68.5025    | 68.5645\n72.06     | 68    | 68.5025    | 68.5645\n... (924 rows omitted)","content_type":"text/plain"}}}],"key":"KbzQ1LBRpF"}],"key":"vhJRGAgh6z"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights_with_predictions.scatter('MidParent')","key":"pMqhaa6IpR"},{"type":"output","id":"hteo66ZQZkX2LXXN5UNBf","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"dd1a4c88705797abcbed0d78f4195c03","path":"/build/dd1a4c88705797abcbed0d78f4195c03.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"MqcAP4qKyd"}],"key":"BZvtZQ2DoW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The grey dots show the regression predictions, all on the regression line. Notice how the line is very close to the gold graph of averages. For these data, the regression line does a good job of approximating the centers of the vertical strips.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CosMYhWMHS"}],"key":"PEDSfLwrTm"}],"key":"dEAikHyrWO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Fitted Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J8sbavUvVU"}],"identifier":"fitted-values","label":"Fitted Values","html_id":"fitted-values","implicit":true,"key":"UksCcBG8WL"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The predictions all lie on the line and are known as the “fitted values”. The function ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QyRJHgLJcy"},{"type":"inlineCode","value":"fit","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"VtjGhHyP5Y"},{"type":"text","value":" takes the name of the table and the labels of ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kx01z5Pqyk"},{"type":"inlineMath","value":"x","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"Nae39oKXZY"},{"type":"text","value":" and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Nuty5FiTQU"},{"type":"inlineMath","value":"y","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"l6jYkW92ma"},{"type":"text","value":", and returns an array of fitted values, one fitted value for each point in the scatter plot.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"BFmjknkJv0"}],"key":"HVeveHnDfO"}],"key":"BL2xENDl06"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def fit(table, x, y):\n    \"\"\"Return the height of the regression line at each x value.\"\"\"\n    a = slope(table, x, y)\n    b = intercept(table, x, y)\n    return a * table.column(x) + b","key":"wtjcC75Tnh"},{"type":"output","id":"W1xB5vAep2HHixzUw6K8i","data":[],"key":"NXAsUu1nZB"}],"key":"iHnvT8MUcH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It is easier to see the line in the graph below than in the one above.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R9xqMcxeLt"}],"key":"u1BYqtYX7w"}],"key":"iD2IJkiAgL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights.with_column('Fitted', fit(heights, 'MidParent', 'Child')).scatter('MidParent')","key":"jnLjgiztsz"},{"type":"output","id":"4NkwRT0aEXQfQMwLtK_-N","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"78a2afe533302dc751ebc750b0632fba","path":"/build/78a2afe533302dc751ebc750b0632fba.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"Rrp0E5WtvV"}],"key":"NYB1qRGIw4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Another way to draw the line is to use the option ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cERslFDk8M"},{"type":"inlineCode","value":"fit_line=True","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iP4AnW1sr8"},{"type":"text","value":" with the Table method ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WG4KDGnX49"},{"type":"inlineCode","value":"scatter","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LafaWBGQrQ"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QX68jhL7Is"}],"key":"D3hpTqn3p9"}],"key":"YXMSJSQQXe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"heights.scatter('MidParent', fit_line=True)","key":"mhGZmlxc9I"},{"type":"output","id":"EFR6Yem6lnQsii2RcddS4","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"653414a2edb0df2bf376ff4df1b92cd6","path":"/build/653414a2edb0df2bf376ff4df1b92cd6.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"INRiNw8PoG"}],"key":"VT3GcSY9EA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Units of Measurement of the Slope","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vXHQUX2dzw"}],"identifier":"units-of-measurement-of-the-slope","label":"Units of Measurement of the Slope","html_id":"units-of-measurement-of-the-slope","implicit":true,"key":"tUWgdAfmpe"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The slope is a ratio, and it worth taking a moment to study the units in which it is measured. Our example comes from the familiar dataset about mothers who gave birth in a hospital system. The scatter plot of pregnancy weights versus heights looks like a football that has been used in one game too many, but it’s close enough to a football that we can justify putting our fitted line through it. In later sections we will see how to make such justifications more formal.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Uu5F8mmbAL"}],"key":"WYiTcXzWzc"}],"key":"P2lz5z09G9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"baby = Table.read_table(path_data + 'baby.csv')","key":"GmIWMqhRK9"},{"type":"output","id":"LYzkPPedCx1Wx46qXoYNN","data":[],"key":"Zu28mM0Rxu"}],"key":"IxKi52ygPp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"baby.scatter('Maternal Height', 'Maternal Pregnancy Weight', fit_line=True)","key":"EKB6uYgRWh"},{"type":"output","id":"utcaYKawJEj3afxN0eiiv","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5bbd7a0027680e371f7ce5d4fde0b285","path":"/build/5bbd7a0027680e371f7ce5d4fde0b285.png"},"text/plain":{"content":"<Figure size 360x360 with 1 Axes>","content_type":"text/plain"}}}],"key":"qJVG6XjA3q"}],"key":"dVwxopLi4j"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"slope(baby, 'Maternal Height', 'Maternal Pregnancy Weight')","key":"aD1ospHMKc"},{"type":"output","id":"4vVEEc9rikqEwHyuTnko9","data":[{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"3.572846259275056","content_type":"text/plain"}}}],"key":"doK8qUgCOr"}],"key":"btaMjYM89U"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The slope of the regression line is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D9CJF9c0N3"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3.57 pounds per inch","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cCjNMbrjQc"}],"key":"vErhdSqULc"},{"type":"text","value":". This means that for two women who are 1 inch apart in height, our prediction of pregnancy weight will differ by 3.57 pounds. For a woman who is 2 inches taller than another, our prediction of pregnancy weight will be","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ktJ2xMTvDX"}],"key":"MMedlIvATy"},{"type":"math","value":"2 \\times 3.57 ~=~ 7.14","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mn>2</mn><mo>×</mo><mn>3.57</mn><mtext> </mtext><mo>=</mo><mtext> </mtext><mn>7.14</mn></mrow><annotation encoding=\"application/x-tex\">2 \\times 3.57 ~=~ 7.14</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3.57</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">7.14</span></span></span></span></span>","enumerator":"6","key":"r6ad0nmWGX"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"pounds more than our prediction for the shorter woman.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hbRHwz8fDy"}],"key":"OkH3mvITxu"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Notice that the successive vertical strips in the scatter plot are one inch apart, because the heights have been rounded to the nearest inch. Another way to think about the slope is to take any two consecutive strips (which are necessarily 1 inch apart), corresponding to two groups of women who are separated by 1 inch in height. The slope of 3.57 pounds per inch means that the average pregnancy weight of the taller group is about 3.57 pounds more than that of the shorter group.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"iUggOBFlDM"}],"key":"lEVQ9pmwcf"}],"key":"frUsQRPybj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Nb0B0aP5Uk"}],"identifier":"example","label":"Example","html_id":"example","implicit":true,"key":"z3eQk5ky7C"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Suppose that our goal is to use regression to estimate the height of a basset hound based on its weight, using a sample that looks consistent with the regression model. Suppose the observed correlation ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xznet1yD7J"},{"type":"inlineMath","value":"r","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span>","key":"FRO9g5jD6E"},{"type":"text","value":" is 0.5, and that the summary statistics for the two variables are as in the table below:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GJAECTynmG"}],"key":"Vh7OFnuELj"},{"type":"table","position":{"start":{"line":6,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","header":true,"align":"right","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"I1h2J2g3Jh"},{"type":"tableCell","header":true,"align":"center","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"average","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"h1BclGRY40"}],"key":"bMXhUNCcBa"}],"key":"dlvTZIodP6"},{"type":"tableCell","header":true,"align":"center","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"SD","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"H9obiM1GMA"}],"key":"hZHjTIjFHO"}],"key":"ePSd6xgLf9"}],"key":"pxTcWuNFcA"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","align":"right","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"height","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oSPGTt2V0B"}],"key":"aHZeNrTsDu"},{"type":"tableCell","align":"center","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"14 inches","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gmC3k3mgsV"}],"key":"hG0mo2ufwI"},{"type":"tableCell","align":"center","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"2 inches","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"BvOYtrLn8M"}],"key":"YxnIN1VRrc"}],"key":"HcVUTQ2cHL"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","align":"right","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"weight","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"skl1eTP0Pz"}],"key":"N9jXpUkv59"},{"type":"tableCell","align":"center","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"50 pounds","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KcI7Rqvnmn"}],"key":"bNuMrzvUAZ"},{"type":"tableCell","align":"center","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"5 pounds","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"U4UeOxqBYM"}],"key":"YiVsPXCGw5"}],"key":"a66qBUlMLk"}],"key":"ersTmpUIFT"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"To calculate the equation of the regression line, we need the slope and the intercept.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"feJkUwSfdY"}],"key":"wbBnVWxJn8"},{"type":"math","value":"\\mbox{slope} ~=~ \\frac{r \\cdot \\mbox{SD of }y}{\\mbox{SD of }x} ~=~\n\\frac{0.5 \\cdot 2 \\mbox{ inches}}{5 \\mbox{ pounds}} ~=~ 0.2 ~\\mbox{inches per pound}","position":{"start":{"line":13,"column":1},"end":{"line":16,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>slope </mtext><mo>=</mo><mtext> </mtext><mfrac><mrow><mi>r</mi><mo>⋅</mo><mtext>SD of </mtext><mi>y</mi></mrow><mrow><mtext>SD of </mtext><mi>x</mi></mrow></mfrac><mtext> </mtext><mo>=</mo><mtext> </mtext><mfrac><mrow><mn>0.5</mn><mo>⋅</mo><mn>2</mn><mtext> inches</mtext></mrow><mrow><mn>5</mn><mtext> pounds</mtext></mrow></mfrac><mtext> </mtext><mo>=</mo><mtext> </mtext><mn>0.2</mn><mtext> inches per pound</mtext></mrow><annotation encoding=\"application/x-tex\">\\mbox{slope} ~=~ \\frac{r \\cdot \\mbox{SD of }y}{\\mbox{SD of }x} ~=~\n\\frac{0.5 \\cdot 2 \\mbox{ inches}}{5 \\mbox{ pounds}} ~=~ 0.2 ~\\mbox{inches per pound}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.2519em;vertical-align:-0.8804em;\"></span><span class=\"mord text\"><span class=\"mord\">slope</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">SD of </span></span><span class=\"mord mathnormal\">x</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">SD of </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3714em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">5</span><span class=\"mord text\"><span class=\"mord\"> pounds</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">0.5</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">2</span><span class=\"mord text\"><span class=\"mord\"> inches</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.2</span><span class=\"mspace nobreak\"> </span><span class=\"mord text\"><span class=\"mord\">inches per pound</span></span></span></span></span></span>","enumerator":"7","key":"EvrpqQVkwW"},{"type":"math","value":"\\mbox{intercept} ~=~ \\mbox{average of }y - \\mbox{slope}\\cdot \\mbox{average of } x\n~=~ 14 \\mbox{ inches} ~-~ 0.2 \\mbox{ inches per pound} \\cdot 50 \\mbox{ pounds}\n~=~ 4 \\mbox{ inches}","position":{"start":{"line":19,"column":1},"end":{"line":23,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>intercept </mtext><mo>=</mo><mtext> average of </mtext><mi>y</mi><mo>−</mo><mtext>slope</mtext><mo>⋅</mo><mtext>average of </mtext><mi>x</mi><mtext> </mtext><mo>=</mo><mtext> </mtext><mn>14</mn><mtext> inches </mtext><mo>−</mo><mtext> </mtext><mn>0.2</mn><mtext> inches per pound</mtext><mo>⋅</mo><mn>50</mn><mtext> pounds </mtext><mo>=</mo><mtext> </mtext><mn>4</mn><mtext> inches</mtext></mrow><annotation encoding=\"application/x-tex\">\\mbox{intercept} ~=~ \\mbox{average of }y - \\mbox{slope}\\cdot \\mbox{average of } x\n~=~ 14 \\mbox{ inches} ~-~ 0.2 \\mbox{ inches per pound} \\cdot 50 \\mbox{ pounds}\n~=~ 4 \\mbox{ inches}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">intercept</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord text\"><span class=\"mord\">average of </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">slope</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">average of </span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">14</span><span class=\"mord text\"><span class=\"mord\"> inches</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">0.2</span><span class=\"mord text\"><span class=\"mord\"> inches per pound</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">50</span><span class=\"mord text\"><span class=\"mord\"> pounds</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">4</span><span class=\"mord text\"><span class=\"mord\"> inches</span></span></span></span></span></span>","enumerator":"8","key":"cYjd7Bmjxu"},{"type":"paragraph","position":{"start":{"line":25,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The equation of the regression line allows us to calculate the estimated height, in inches,\nbased on a given weight in pounds:","position":{"start":{"line":25,"column":1},"end":{"line":25,"column":1}},"key":"YcTk6ZxTr9"}],"key":"QWazGtwXo9"},{"type":"math","value":"\\mbox{estimated height} ~=~ 0.2 \\cdot \\mbox{given weight} ~+~ 4","position":{"start":{"line":28,"column":1},"end":{"line":30,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>estimated height </mtext><mo>=</mo><mtext> </mtext><mn>0.2</mn><mo>⋅</mo><mtext>given weight </mtext><mo>+</mo><mtext> </mtext><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">\\mbox{estimated height} ~=~ 0.2 \\cdot \\mbox{given weight} ~+~ 4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">estimated height</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mord\">0.2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord text\"><span class=\"mord\">given weight</span></span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace nobreak\"> </span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">4</span></span></span></span></span>","enumerator":"9","key":"zVxFyvrbGf"},{"type":"paragraph","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"The slope of the line is measures the increase in the estimated height per unit increase in weight. The slope is positive, and it is important to note that this does not mean that we think basset hounds get taller if they put on weight. The slope reflects the difference in the average heights of two groups of dogs that are 1 pound apart in weight. Specifically, consider a group of dogs whose weight is ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"uSWwueQqhz"},{"type":"inlineMath","value":"w","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>","key":"tzWBxXPA8Q"},{"type":"text","value":" pounds, and the group whose weight is ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"FHZGPKEOC0"},{"type":"inlineMath","value":"w+1","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">w+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>","key":"tZaXaqVi3Z"},{"type":"text","value":" pounds. The second group is estimated to be 0.2 inches taller, on average. This is true for all values of ","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"TlWumnwgjv"},{"type":"inlineMath","value":"w","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span>","key":"yXs4d7Rya6"},{"type":"text","value":" in the sample.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"eWJ0oWY7s5"}],"key":"I2JdxSvHcQ"},{"type":"paragraph","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"In general, the slope of the regression line can be interpreted as the average increase in ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"CF0lgL0yk3"},{"type":"inlineMath","value":"y","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"FSVX9V3e25"},{"type":"text","value":" per unit increase in ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"LV8MXs3QgC"},{"type":"inlineMath","value":"x","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"idFDcADPQD"},{"type":"text","value":". Note that if the slope is negative, then for every unit increase in ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"pa8Pi8wGx1"},{"type":"inlineMath","value":"x","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>","key":"l2aWGIwhEs"},{"type":"text","value":", the average of ","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"hAKVNN0TQ9"},{"type":"inlineMath","value":"y","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>","key":"fAo3QxNWb9"},{"type":"text","value":" decreases.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"KCDeimlZIl"}],"key":"WnASJNCvBR"}],"key":"Q6zf1NHC9f"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Endnote","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jPlG1pwEFU"}],"identifier":"endnote","label":"Endnote","html_id":"endnote","implicit":true,"key":"R75QpxnUrw"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Even though we won’t establish the mathematical basis for the regression equation, we can see that it gives pretty good predictions when the scatter plot is football shaped. It is a surprising mathematical fact that no matter what the shape of the scatter plot, the same equation gives the “best” among all straight lines. That’s the topic of the next section.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CUoQ9418oW"}],"key":"jCfGcpPlTj"}],"key":"OqlI1c9K4j"}],"key":"xmblftxbXA"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Correlation","url":"/chapters/15/1/correlation","group":"Computational and Inferential Thinking"},"next":{"title":"The Method of Least Squares","url":"/chapters/15/3/method-of-least-squares","group":"Computational and Inferential Thinking"}}},"domain":"http://localhost:3000"}