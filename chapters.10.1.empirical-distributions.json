{"version":2,"kind":"Notebook","sha256":"814f5e9ff2aeb36ced0765e2497128c5181f906265f0565e2d70bf8d6e974e2c","slug":"chapters.10.1.empirical-distributions","location":"/chapters/10/1/Empirical_Distributions.ipynb","dependencies":[],"frontmatter":{"title":"Empirical Distributions","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"license":{"content":{"id":"CC-BY-NC-ND-4.0","url":"https://creativecommons.org/licenses/by-nc-nd/4.0/","name":"Creative Commons Attribution Non Commercial No Derivatives 4.0 International","CC":true}},"github":"https://github.com/data-8/textbook","numbering":{"title":{"enabled":true,"offset":1}},"source_url":"https://github.com/data-8/textbook/blob/main/chapters/10/1/Empirical_Distributions.ipynb","edit_url":"https://github.com/data-8/textbook/edit/main/chapters/10/1/Empirical_Distributions.ipynb","enumerator":"10.1","exports":[{"format":"ipynb","filename":"Empirical_Distributions.ipynb","url":"/build/Empirical_Distributi-050e1585d1fce793aac4732b9cafe946.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In data science, the word “empirical” means “observed”. Empirical distributions are distributions of observed data, such as data in random samples.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"biKIrPsVuN"}],"key":"IbOqJygfz1"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this section we will generate data and see what the empirical distribution looks like.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qhwbdk70Sv"}],"key":"v5gPBPAD9o"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Our setting is a simple experiment: rolling a die multiple times and keeping track of which face appears. The table ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BWmAyFqP7a"},{"type":"inlineCode","value":"die","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PpO0fMH0xf"},{"type":"text","value":" contains the numbers of spots on the faces of a die. All the numbers appear exactly once, as we are assuming that the die is fair.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FCKE7qCiVf"}],"key":"Onywqc13PN"}],"key":"MF19RDSkNH"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from datascience import *\npath_data = '../../../assets/data/'\nimport matplotlib\nmatplotlib.use('Agg')\n%matplotlib inline\nimport matplotlib.pyplot as plots\nplots.style.use('fivethirtyeight')\nimport numpy as np","visibility":"remove","key":"H2WkdUToDb"},{"type":"output","id":"G-tSuZAXOqEFD52yzv-uy","data":[],"visibility":"show","key":"cw9GwJ29KN"}],"visibility":"show","key":"Nds0g2prZc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"die = Table().with_column('Face', np.arange(1, 7, 1))\ndie","key":"J2E1jcITuE"},{"type":"output","id":"fW-W1GIWFnGNrPeU9gPSU","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Face</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>1   </td>\n        </tr>\n        <tr>\n            <td>2   </td>\n        </tr>\n        <tr>\n            <td>3   </td>\n        </tr>\n        <tr>\n            <td>4   </td>\n        </tr>\n        <tr>\n            <td>5   </td>\n        </tr>\n        <tr>\n            <td>6   </td>\n        </tr>\n    </tbody>\n</table>","content_type":"text/html"},"text/plain":{"content":"Face\n1\n2\n3\n4\n5\n6","content_type":"text/plain"}}}],"key":"nBIpcKoaWk"}],"key":"rKWyFHCd6b"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A Probability Distribution","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KvKx2ltcLf"}],"identifier":"a-probability-distribution","label":"A Probability Distribution","html_id":"a-probability-distribution","implicit":true,"key":"IXSTLsaq3h"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The histogram below helps us visualize the fact that every face appears with probability 1/6. We say that the histogram shows the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fe4nTBuoF4"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"distribution","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OVRFY00PGp"}],"key":"m1mLKY06Xz"},{"type":"text","value":" of probabilities over all the possible faces. Since all the bars represent the same percent chance, the distribution is called ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tV8u8ay53L"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"uniform on the integers 1 through 6.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Pjg54cev0F"}],"key":"iwXc1ZV1Uh"}],"key":"UNvQ3UXzY0"}],"key":"mJca1ZWhoq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"die_bins = np.arange(0.5, 6.6, 1)\ndie.hist(bins = die_bins)","key":"jvIOFxM87X"},{"type":"output","id":"sozeap4QBil0iwenRwLjk","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"82f87c08131d941248f5c5a2ffa6469c","path":"/build/82f87c08131d941248f5c5a2ffa6469c.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"TL4sKNC2D7"}],"key":"Ia5itbmhBU"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Variables whose successive values are separated by the same fixed amount, such as the values on rolls of a die (successive values separated by 1), fall into a class of variables that are called ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O3SNVwUP35"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"discrete","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aeQeyygpLI"}],"key":"w8bCyRALtE"},{"type":"text","value":". The histogram above is called a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aIIHP0Yq1i"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"discrete","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VFsYE4pr4R"}],"key":"PxKyJcrXO1"},{"type":"text","value":" histogram. Its bins are specified by the array ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cjoXv7PvEk"},{"type":"inlineCode","value":"die_bins","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WL9CH5uM35"},{"type":"text","value":" and ensure that each bar is centered over the corresponding integer value.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kUhNB6QnKg"}],"key":"N8PYVaByXz"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"It is important to remember that the die can’t show 1.3 spots, or 5.2 spots – it always shows an integer number of spots. But our visualization spreads the probability of each value over the area of a bar. While this might seem a bit arbitrary at this stage of the course, it will become important later when we overlay smooth curves over discrete histograms.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IXGlAh8uU5"}],"key":"PSKSL4fVPi"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Before going further, let’s make sure that the numbers on the axes make sense. The probability of each face is 1/6, which is 16.67% when rounded to two decimal places. The width of each bin is 1 unit. So the height of each bar is 16.67% per unit. This agrees with the horizontal and vertical scales of the graph.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"QafVMmx0B5"}],"key":"qRRURgI8Gl"}],"key":"BuDhCqa6pL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Empirical Distributions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xCWqu9s5fr"}],"identifier":"empirical-distributions","label":"Empirical Distributions","html_id":"empirical-distributions","implicit":true,"key":"g9TlTk5HQh"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The distribution above consists of the theoretical probability of each face. It is called a ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FmXTG4rnHz"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"probability distribution","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"CB2SCVaAo1"}],"key":"xuWq0q5NRZ"},{"type":"text","value":" and is not based on observed data. It can be studied and understood without any dice being rolled.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tzYJoyYSXz"}],"key":"btYg2HQw6l"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Empirical distributions,","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"O1hxvoPbMl"}],"key":"SY2nJD9k9j"},{"type":"text","value":" on the other hand, are distributions of observed data. They can be visualized by ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uTc4lDXqDQ"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"empirical histograms","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xBbrPMzI4N"}],"key":"F7CbGs7GBG"},{"type":"text","value":".","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GlfJi0OsHU"}],"key":"uGrKpfj19S"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Let us get some data by simulating rolls of a die. This can be done by sampling at random with replacement from the integers 1 through 6. We have used ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pcGNNBZ4hE"},{"type":"inlineCode","value":"np.random.choice","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zLwl9QlZhc"},{"type":"text","value":" for such simulations before. But now we will introduce a Table method for doing this. This will make it easier for us to use our familiar Table methods for visualization.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"fqycQPds5j"}],"key":"nV7lWZATjo"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"The Table method is called ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"AnfXHxCPoF"},{"type":"inlineCode","value":"sample","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Fg89YdAblq"},{"type":"text","value":". It draws at random with replacement from the rows of a table. Its argument is the sample size, and it returns a table consisting of the rows that were selected. An optional argument ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JQiqXMmwFF"},{"type":"inlineCode","value":"with_replacement=False","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"io5pGUcmfu"},{"type":"text","value":" specifies that the sample should be drawn without replacement. But that does not apply to rolling a die.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Ia4vTp6wW9"}],"key":"FzOUhVH0uj"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Here are the results of 10 rolls of a die.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"vPJOoXgvWN"}],"key":"UtKhLAulTp"}],"key":"EKUsVcarcF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"die.sample(10)","key":"cxRQJlvGd5"},{"type":"output","id":"u3LFGaDWx0E2rG9JGEynq","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content":"<table border=\"1\" class=\"dataframe\">\n    <thead>\n        <tr>\n            <th>Face</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>2   </td>\n        </tr>\n        <tr>\n            <td>4   </td>\n        </tr>\n        <tr>\n            <td>5   </td>\n        </tr>\n        <tr>\n            <td>5   </td>\n        </tr>\n        <tr>\n            <td>1   </td>\n        </tr>\n        <tr>\n            <td>6   </td>\n        </tr>\n        <tr>\n            <td>1   </td>\n        </tr>\n        <tr>\n            <td>4   </td>\n        </tr>\n        <tr>\n            <td>6   </td>\n        </tr>\n        <tr>\n            <td>5   </td>\n        </tr>\n    </tbody>\n</table>","content_type":"text/html"},"text/plain":{"content":"Face\n2\n4\n5\n5\n1\n6\n1\n4\n6\n5","content_type":"text/plain"}}}],"key":"pnbBPM993P"}],"key":"gkRI1d4X4x"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can use the same method to simulate as many rolls as we like, and then draw empirical histograms of the results. Because we are going to do this repeatedly, we define a function ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"opNUy5tEjN"},{"type":"inlineCode","value":"empirical_hist_die","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oywqzKkofP"},{"type":"text","value":" that takes the sample size as its argument, rolls a die as many times as the argument, and then draws a histogram of the observed results.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ONgUOWyKpP"}],"key":"Rvqsunucqn"}],"key":"llwDetCt5f"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def empirical_hist_die(n):\n    die.sample(n).hist(bins = die_bins)","key":"FKGLqZQYzb"},{"type":"output","id":"LysubQQZQUXnfOw8ENknY","data":[],"key":"hiJ4sGCSvR"}],"key":"HPtGHZGAIH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Empirical Histograms","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mYoZCYsL0c"}],"identifier":"empirical-histograms","label":"Empirical Histograms","html_id":"empirical-histograms","implicit":true,"key":"RBXlE8rfWY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Here is an empirical histogram of 10 rolls. It doesn’t look very much like the probability histogram above. Run the cell a few times to see how it varies.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FHdpe5R4Rv"}],"key":"D6ADMBLsE0"}],"key":"QwVm4EMaJq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"empirical_hist_die(10)","key":"wn2G8At2te"},{"type":"output","id":"ceyWOtOjnjQd4N11zbjMP","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6d3ab31c96ddc2562b69c2ad76ba1c29","path":"/build/6d3ab31c96ddc2562b69c2ad76ba1c29.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"PemxeD7FvE"}],"key":"XL2JqeALhk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"When the sample size increases, the empirical histogram begins to look more like the histogram of theoretical probabilities.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yqZsWgSzSs"}],"key":"fBiGQrZsKO"}],"key":"Cqwxixw1ey"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"empirical_hist_die(100)","key":"oS6R6bm4Ib"},{"type":"output","id":"gzSesvfTrS13yQtKr4lJ9","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1603642b04a843925d95f66de72ea3a0","path":"/build/1603642b04a843925d95f66de72ea3a0.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"O1f4ixNPgE"}],"key":"uA6adArWsk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"empirical_hist_die(1000)","key":"SFZiKpJ7hP"},{"type":"output","id":"IJeU3-BJrRxTTGCqevVv0","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c48904218e0cb2f9dd7f864e800b9840","path":"/build/c48904218e0cb2f9dd7f864e800b9840.png"},"text/plain":{"content":"<Figure size 432x288 with 1 Axes>","content_type":"text/plain"}}}],"key":"cRYZfPAeOS"}],"key":"XnGbjBDHD6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we increase the number of rolls in the simulation, the area of each bar gets closer to 16.67%, which is the area of each bar in the probability histogram.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZIYaOHIjkB"}],"key":"QeJvAHPrfe"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Law of Averages","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"n7Kj4IBrJB"}],"identifier":"the-law-of-averages","label":"The Law of Averages","html_id":"the-law-of-averages","implicit":true,"key":"r7rVvxsOlc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"What we have observed above is an instance of a general rule called the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"imj7rr2EAY"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"law of averages","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"os8JOAYvKR"}],"key":"MfIrBYPt71"},{"type":"text","value":":","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SNV26zJaIg"}],"key":"f0AR8mWF4J"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"If a chance experiment is repeated independently and under identical conditions, then, in the long run, the proportion of times that an event occurs gets closer and closer to the theoretical probability of the event.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"W2EqJAMCyi"}],"key":"hED7CmfLdf"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"For example, in the long run, the proportion of times the face with four spots appears gets closer and closer to 1/6.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"BrnIDYHFIB"}],"key":"lDG3WRH5Pr"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Here “independently and under identical conditions” means that every repetition is performed in the same way regardless of the results of all the other repetitions.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"tCcaVMaBTU"}],"key":"qpcGrHWM9K"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Under these conditions, the law above implies that if the chance experiment is repeated a large number of times then the proportion of times that an event occurs is very likely to be close to the theoretical probability of the event.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"nIfYZPl9ml"}],"key":"fD7WlJKFBe"}],"key":"pP4YRRoNPx"}],"key":"K0ImEZmQo7"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Sampling and Empirical Distributions","url":"/chapters/10/sampling-and-empirical-distributions","group":"Computational and Inferential Thinking"},"next":{"title":"Sampling from a Population","url":"/chapters/10/2/sampling-from-a-population","group":"Computational and Inferential Thinking"}}},"domain":"http://localhost:3000"}